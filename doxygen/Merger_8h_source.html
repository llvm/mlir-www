<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: include/mlir/Dialect/SparseTensor/Utils/Merger.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">22.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_5654f77406fb9ceec87e68ef828ceea2.html">mlir</a></li><li class="navelem"><a class="el" href="dir_d07a6fac82475a065a3b2953573f00a0.html">Dialect</a></li><li class="navelem"><a class="el" href="dir_7c9e596b47e1c22c48d5e546122486f8.html">SparseTensor</a></li><li class="navelem"><a class="el" href="dir_a819a1380bbccb913d22930df867237e.html">Utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Merger.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Merger_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- Merger.h - Utilities for defining lattices ---------------*- C++ -*-===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This header file defines utilities for dealing with iteration lattices.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef MLIR_DIALECT_SPARSETENSOR_UTILS_MERGER_H_</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define MLIR_DIALECT_SPARSETENSOR_UTILS_MERGER_H_</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mlir_2Dialect_2Linalg_2IR_2Linalg_8h.html">mlir/Dialect/Linalg/IR/Linalg.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Enums_8h.html">mlir/Dialect/SparseTensor/IR/Enums.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mlir_2Dialect_2SparseTensor_2IR_2SparseTensor_8h.html">mlir/Dialect/SparseTensor/IR/SparseTensor.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">mlir/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;llvm/ADT/BitVector.h&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacemlir.html">mlir</a> {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span>sparse_tensor {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span>detail {<span class="comment"></span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// A constant serving as the canonically invalid identifier,</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// regardless of the identifier type.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">   30</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> constexpr <span class="keywordtype">unsigned</span> <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">kInvalidId</a> = -1u;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;} <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// Tensor identifiers, chosen to be the `BlockArgument::getArgNumber`</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// of the value passed to `Merger::buildTensorExp`.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">   35</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> = unsigned;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// Loop identifiers.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">   38</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> = unsigned;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">/// A compressed representation of `std::pair&lt;TensorId, LoopId&gt;`.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">/// The compression scheme is such that this also serves as an index</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/// into the bitvector stored in `LatPoint` (since that bitvector is</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">/// just the implementation for a set of `TensorLoopId` values).</span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">   44</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> = unsigned;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/// `TensorExp` identifiers. These are allocated by `Merger::addExp`,</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/// and serve as unique identifiers for the corresponding `TensorExp` object.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">   48</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> = unsigned;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/// `LatPoint` identifiers. These are allocated by `Merger::addLat`,</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">/// and serve as unique identifiers for the corresponding `LatPoint` object.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">   52</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> = unsigned;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// `LatSet` identifiers.  These are allocated by `Merger::addSet` (and</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// by other methods calling that one), and serve as unique identifiers</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// for the corresponding `SmallVector&lt;LatPointId&gt;` object.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">   57</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> = unsigned;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// A pair of level and its corresponding LevelType of a tensor.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#a39741feaf66081c965556ade16561e69">   60</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a39741feaf66081c965556ade16561e69">LvlLTPair</a> = std::pair&lt;Level, LevelType&gt;;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/// A pair of loop id and its coefficients. E.g., for affine expression in the</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/// affine map `2 * d0`, loop id = 0, coefficient = 2.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="namespacemlir_1_1sparse__tensor.html#afb499a334166501c5e841475a8d07843">   64</a></span>&#160;<span class="comment"></span><span class="keyword">using</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afb499a334166501c5e841475a8d07843">LoopCoeffPair</a> = std::pair&lt;LoopId, unsigned&gt;;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// Tensor expression. Represents an MLIR expression in tensor index notation.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html">   67</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html">TensorExp</a> final {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">enum class</span> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">Kind</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  /// Child subexpressions for non-leaf expressions.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html">   71</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html">Children</a> final {</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#ad98d9acaa210dcbc64f32d1967d59621">   72</a></span>&#160;    <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#ad98d9acaa210dcbc64f32d1967d59621">e0</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#a5204825192d2ae2078dc7614ad677466">   73</a></span>&#160;    <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#a5204825192d2ae2078dc7614ad677466">e1</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  };</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  /// The `x` parameter has different types depending on the value of the</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">  /// `k` parameter.  The correspondences are:</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">  /// * `kTensor`    -&gt; `TensorId`</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  /// * `kInvariant` -&gt; `kInvalidId`</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  /// * `kLoopVar`   -&gt; `LoopId`</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  /// * else         -&gt; `ExprId`</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">  /// The `y`, `v`, and `op` parameters either must or must not be</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">  /// `kInvalidId`/`nullptr`, depending on the value of the `k` parameter;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">  /// however, they have uniform C++ types regardless of the value of `k`.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aedfb8672759e7da1331afda1a5e5451a">TensorExp</a>(<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">Kind</a> k, <span class="keywordtype">unsigned</span> x, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> y, <a class="code" href="classmlir_1_1Value.html">Value</a> v, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aed1ca847e35b5b9d5d30140e6c29c9bc">op</a>, <a class="code" href="classmlir_1_1Attribute.html">Attribute</a> a);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  /// Tensor expression kind.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a944102e3a05a7a489455848bdfb05cc4">   89</a></span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">Kind</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a944102e3a05a7a489455848bdfb05cc4">kind</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keyword">union </span>{<span class="comment"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">    /// `kTensor` expressions simply have a tensor identifier.</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a8c89cfea757925297d494e8dc102cc51">   93</a></span>&#160;<span class="comment"></span>    <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a8c89cfea757925297d494e8dc102cc51">tensor</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">    /// `kLoopVar` expressions simply have a loop identifier.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a2072239a0a8cdff703e5e6d1f0dbca36">   96</a></span>&#160;<span class="comment"></span>    <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a2072239a0a8cdff703e5e6d1f0dbca36">loop</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">    /// All other expressions hold the `ExprId`s of their children.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a6552737dcc2467998be73b26d8077cdf">   99</a></span>&#160;<span class="comment"></span>    <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html">Children</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a6552737dcc2467998be73b26d8077cdf">children</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  };</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  /// Direct link to IR for an invariant or the destination value (to</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">  /// infer destination type) of a cast operation During code generation,</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">  /// this field may be used to cache &quot;hoisted&quot; loop invariant tensor loads.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a44d3cc94ea4c0e89173177b47d0d836e">  105</a></span>&#160;<span class="comment"></span>  <a class="code" href="classmlir_1_1Value.html">Value</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a44d3cc94ea4c0e89173177b47d0d836e">val</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">  /// Code blocks used by semirings. For the case of kUnary, kBinary, kReduce,</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">  /// and kSelect, this holds the original operation with all regions. For</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">  /// kBinaryBranch, this holds the YieldOp for the left or right half</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">  /// to be merged into a nested scf loop.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">  /// Or the actual operation that we can not sparsify but having all dense</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">  /// operands for kDenseOp.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aed1ca847e35b5b9d5d30140e6c29c9bc">  114</a></span>&#160;<span class="comment"></span>  <a class="code" href="classmlir_1_1Operation.html">Operation</a> *<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aed1ca847e35b5b9d5d30140e6c29c9bc">op</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">  /// An optional attribute that is required to determine the semantics of the</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">  /// operations. E.g., CmpPredicateAttr for CmpI/CmpF operations.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a73d62b0398ff9bb877fd21005156cbfd">  118</a></span>&#160;<span class="comment"></span>  <a class="code" href="classmlir_1_1Attribute.html">Attribute</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a73d62b0398ff9bb877fd21005156cbfd">attr</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// Tensor expression kind.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">/// The `kLoopVar` leaf kind is for representing `linalg::IndexOp`.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/// That is, its argument is a `LoopId` identifying the loop-variable</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">/// in question, and its value will be the current iteration&#39;s value.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/// The `kSynZero` leaf kind is for representing a synthetic zero value,</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/// which can be introduced when sparsifying operations like `arith::cmp`</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">/// to generate `arith::cmp %lhs, %syn_zero` when the rhs operand is absent.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">  129</a></span>&#160;<span class="comment"></span><span class="keyword">enum class</span> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// Leaf.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7323b0c2eca65bea3e4ebaf6810b3f46">kTensor</a> = 0,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a25225e5d189132cdcd8703845ff4b1be">kSynZero</a>,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2abfd4b7df606bfcbbaced63a2b3dcde60">kInvariant</a>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2abe09fb831a938fc2de10a6d7bee78315">kLoopVar</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Unary operations.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0140761008aa4bcb5d0504b5c26897d9">kAbsF</a>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae0d15b2bc2a19ae088c24c8b9c56314f">kAbsC</a>,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a45c6f4db4d1ec40da6b671bd4d492d46">kAbsI</a>,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a12f121e02ef3c94b3236aa646fb5b391">kCeilF</a>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab85e4d81f589e2adf797c5ca899130d6">kFloorF</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2aa90f91c68e03fea94310d71cb65bd4dd">kSqrtF</a>,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae0a34aec7a2d1a09d4bf852aae9a2097">kSqrtC</a>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae779e77a4e8ea777d58e031e6236cc34">kExpm1F</a>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ac3422a0d0554ae25a68869dfafb0a0ca">kExpm1C</a>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2aacadb5440dede58127c425929f0cb183">kLog1pF</a>,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2afe0c311886ab167b7e16b5830aebb09b">kLog1pC</a>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a067892a9ea619b2c378e06000c9763af">kRelu</a>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a4123acc86a04f109c4b8a1dfd786f468">kSinF</a>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a49ccc5320d8840ad6eea15eced2d0b19">kSinC</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae35ef2fcdf816e08871a876c814c1dbb">kTanhF</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0dbd1d9f37b3d3ee31e609f0653cf6d2">kTanhC</a>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a63073588b9e5f41c1c95c9d029da4816">kNegF</a>,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af82d9e28b4152ef30727146589a37eab">kNegC</a>,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af6415d6520b675349bbff949b5e39ee2">kNegI</a>,</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab17ca7fbecdca674a9df1586e06b67c6">kTruncF</a>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8d0272ad5c423ae205b7753d6db0a34a">kExtF</a>,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1810b6e4bdf4dfdd6151ef365a5ec519">kCastFS</a>, <span class="comment">// signed</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0546107f60d608ed630df13b8c5e2849">kCastFU</a>, <span class="comment">// unsigned</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2acc9208b813fc8c189c7e566912846a78">kCastSF</a>, <span class="comment">// signed</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab727defa95bb8a036bb637518ed64e4a">kCastUF</a>, <span class="comment">// unsigned</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a722b6b197ad326f5acf57367bad0e0f3">kCastS</a>,  <span class="comment">// signed</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1785404c3271ff2fdc8a6a6eb990a823">kCastU</a>,  <span class="comment">// unsigned</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad4712ca3bcb6aefad117c8fe092f9854">kCastIdx</a>,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a5c49fa133caef755470eb028f50a97be">kTruncI</a>,</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7c364633781ea83332037381f13dafe6">kCIm</a>, <span class="comment">// complex.im</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1cb00d894f747c378a4a703116318141">kCRe</a>, <span class="comment">// complex.re</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a44262931caed2d8a93ce2dd388b92bbd">kBitCast</a>,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad4c582ed477b8e2a26d2e0fa179b7a1c">kBinaryBranch</a>, <span class="comment">// semiring unary branch created from a binary op</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7eaa1b378656b37ef145e184c09afa84">kUnary</a>,        <span class="comment">// semiring unary op</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0f74d4695fd4cccbe4380a5fcf6f8cc0">kSelect</a>,       <span class="comment">// custom selection criteria</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Binary operations.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad7b08d78253c61d68820ffbe62d30c85">kMulF</a>,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a47761edcf03c993b1493086ba8693a7c">kMulC</a>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a34fa5f73772dbc3eb8951d3edc5beca0">kMulI</a>,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8023736aba84e539b455adc7f0923f17">kDivF</a>,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2acfe442f120aecbc174b2253565c3b3d7">kDivC</a>, <span class="comment">// complex</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a3c8d4c9e95f6c5516e0605edfba383e7">kDivS</a>, <span class="comment">// signed</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a001b6da62b5897ec4940277ed1e5d558">kDivU</a>, <span class="comment">// unsigned</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad6d33541f900771ea244159bd3058ab1">kAddF</a>,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a42f0e22bca2b524acab971a18855063b">kAddC</a>,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af648a52d693b6ab00ea52709d578a16a">kAddI</a>,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a5203b9b81718041478f5c20542c3524a">kSubF</a>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a9401b7030add4be9f967cce2764d17f8">kSubC</a>,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a72706fc44467a7901716f03f48125d4f">kSubI</a>,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8533d61c571a222f482ba0ca322b5ae8">kAndI</a>,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af0a34d6e52f73aac67bbde9bbf6530fa">kOrI</a>,</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a2c278af8d867685a35766510bdca6cd1">kXorI</a>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a481917447b37d2e963702755ad923c16">kCmpI</a>,</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a48f2000e92ccd40e0946f6f22a12a3ea">kCmpF</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a4e57677b3458991c72e298e58d4a9304">kShrS</a>, <span class="comment">// signed</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a95de4fb1b58049039974ecd82283007c">kShrU</a>, <span class="comment">// unsigned</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a2bef5cad8b3b8c7c46d7d7c8230df1e4">kShlI</a>,</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a212f9f34e4e151a9ba569c71e1aace47">kBinary</a>,  <span class="comment">// semiring binary op</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7774eadbb2e71085823eb37476c181f0">kReduce</a>,  <span class="comment">// semiring reduction op</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1470c8db6aae5a3a90dd293ae7e85df3">kDenseOp</a>, <span class="comment">// special category of operations requiring all dense operands</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;};</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/// Lattice point.  Each lattice point consists of a formal conjunction</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/// of `TensorLoopId`s, together with the identifier of the corresponding</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/// tensor expression.  The formal conjunction is represented as a set of</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/// `TensorLoopId`, where that set is implemented as a `BitVector`.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html">  202</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html">LatPoint</a> final {<span class="comment"></span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">  /// Construct a lattice point with the empty set of `TensorLoopId`s.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#acf36428725a53fcbcd70f27d3a661361">  204</a></span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#acf36428725a53fcbcd70f27d3a661361">LatPoint</a>(<span class="keywordtype">unsigned</span> size, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) : <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">bits</a>(size, false), <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a761908a03d813a4c8b300e3b584f691c">exp</a>(e) {}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">  /// Construct a lattice point from the given set of `TensorLoopId`s.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a48ddf4e850d715b9b5bdaca09361d049">  207</a></span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a48ddf4e850d715b9b5bdaca09361d049">LatPoint</a>(<span class="keyword">const</span> BitVector &amp;<a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">bits</a>, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) : <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">bits</a>(<a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">bits</a>), <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a761908a03d813a4c8b300e3b584f691c">exp</a>(e) {}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  /// Conjunction of all `TensorLoopId`s involved in the tensor expression.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">  210</a></span>&#160;<span class="comment"></span>  BitVector <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">bits</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /// Simplified conjunction of `TensorLoopId` as bitvector.  This</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  /// represents a simplified condition under which this tensor expression</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  /// must execute. Pre-computed during codegen to avoid repeated eval.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a81e157dbe6505841d310e83f18d7cb09">  215</a></span>&#160;<span class="comment"></span>  BitVector <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a81e157dbe6505841d310e83f18d7cb09">simple</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  /// Identifier of the tensor expression.</span></div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a761908a03d813a4c8b300e3b584f691c">  218</a></span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a761908a03d813a4c8b300e3b584f691c">exp</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;};</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">/// A class to handle all iteration lattice operations. This class abstracts</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/// away from some implementation details of storing iteration lattices and</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">/// tensor expressions. This allows for fine-tuning performance characteristics</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">/// independently from the basic algorithm if bottlenecks are identified.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html">  225</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html">Merger</a> {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">  /// Constructs a merger for the given number of tensors and loops. The user</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  /// supplies the number of tensors involved in the kernel, with the last</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /// tensor in this set denoting the output tensor. The merger adds an</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  /// additional synthetic tensor at the end of this set to represent all</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">  /// invariant expressions in the kernel.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  /// The maxLvlRank specifies the max level rank of all inputs/output tensors.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  /// It is used to pre-allocate sufficient memory for internal storage.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span>  <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#abef0256a925ae21538ed0227bd8f67cc">Merger</a>(<span class="keywordtype">unsigned</span> numInputOutputTensors, <span class="keywordtype">unsigned</span> numLoops,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;         <span class="keywordtype">unsigned</span> maxLvlRank);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// Constructing valid tensor and loop identifiers.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">  /// Safely converts the argument to a tensor identifier.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeb797e70b6058a9cae7a388774dd40d5">  243</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeb797e70b6058a9cae7a388774dd40d5">makeTensorId</a>(<span class="keywordtype">unsigned</span> t)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    assert(isValidTensorId(t));</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> t;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  /// Safely converts the argument to a loop identifier.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a62ffbc8056e87e82c911b2acd22329cb">  249</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a62ffbc8056e87e82c911b2acd22329cb">makeLoopId</a>(<span class="keywordtype">unsigned</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    assert(isValidLoopId(i));</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  /// Safely converts the arguments to a pair of (tensor,loop) identifiers.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#af6d0df0a35a3a09e3e646fca3af516d0">  255</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#af6d0df0a35a3a09e3e646fca3af516d0">makeTensorLoopId</a>(<span class="keywordtype">unsigned</span> t, <span class="keywordtype">unsigned</span> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    assert(isValidTensorId(t) &amp;&amp; isValidLoopId(i));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">return</span> numTensors * i + t;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// Allocating new expressions, points, and sets.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">  /// Constructs a new tensor expression, and returns its identifier.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a54aec8a8298e722513fa882dcf0a98f7">addTensorExp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t);<span class="comment"></span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  /// Constructs a new loop-variable expression, and returns its identifier.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aceda245a422b45b5ba46630409db8e28">addLoopVarExp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i);<span class="comment"></span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">  /// Constructs a new invariant expression, and returns its identifier.</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ae78a9ed4c1e9a1d381f1da432d256e26">addInvariantExp</a>(<a class="code" href="classmlir_1_1Value.html">Value</a> v);<span class="comment"></span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">  /// Constructs a new synthetic zero expression.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a6217f2068c5578cc73de31c85b3d65ef">addSynZeroExp</a>();<span class="comment"></span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">  /// Constructs a new unary or binary expression, and returns its identifier.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a5a4f123ff5152cdfbbb6bf324b9ba476">addExp</a>(<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> k, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e1 = <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">detail::kInvalidId</a>,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>, <a class="code" href="classmlir_1_1Attribute.html">Attribute</a> attr = <span class="keyword">nullptr</span>);<span class="comment"></span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  /// Constructs a new sesquinary expression, and returns its identifier.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">  /// Currently no sesquinary `Kind` allows specifying the `op`, but we</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /// allow it anyways because `mapSet` is designed to allow it.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a5a4f123ff5152cdfbbb6bf324b9ba476">addExp</a>(<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> k, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="classmlir_1_1Value.html">Value</a> v, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <a class="code" href="classmlir_1_1Attribute.html">Attribute</a> attr = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  /// Constructs a new iteration lattice point, and returns its identifier.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac6af13ad076c74bea2d70932e92dcdd9">addLat</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac6af13ad076c74bea2d70932e92dcdd9">addLat</a>(<span class="keyword">const</span> BitVector &amp;bits, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">  /// Constructs a new (initially empty) set, and returns its identifier.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a3c148d0eb73887cbd2ec2b359bf2dbb8">addSet</a>();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">  /// Computes a single conjunction of two lattice points by taking the &quot;union&quot;</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  /// of `LoopId` (effectively constructing a larger &quot;intersection&quot; of those</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">  /// loops) with a newly constructed tensor (sub)expression of given kind.</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /// Returns the identifier of the new lattice point.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1209fc6fd118ff26b0c4af65f2c44585">conjLat</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p1,</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                     <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">  /// Conjunctive merge of two lattice sets: `(s0 /\_op s1)`.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  /// Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a5603e194b7ab83aabb5bfa3bd39c51c5">conjSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s1, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">  /// Disjunctive merge of two lattice sets: `(s0 /\_op s1, s0, s1)`.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">  /// Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a14621c904e8a39335c2aa4d1f5b2abee">disjSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s1, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  /// Disjunctive merge of two lattice sets and also set one of the operand to</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  /// zero: `(s0 /\_op s1 (e0 op e1), s0 (0 op e0), s1 (e1 op 0))`.</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  /// Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c7ca418781020241d923843c9f46139">disjSetWithZero</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s1);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  /// Disjunctive merge of two lattice sets with custom handling of the</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">  /// overlap, left, and right regions.  Any region may be left missing</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">  /// in the output.  Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a53c9e62c00fd5ed060c6c1932fccad17">combiSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s1, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *orig,</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    <span class="keywordtype">bool</span> includeLeft, <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> ltrans, <a class="code" href="classmlir_1_1Operation.html">Operation</a> *opleft,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <span class="keywordtype">bool</span> includeRight, <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> rtrans,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <a class="code" href="classmlir_1_1Operation.html">Operation</a> *opright);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">  /// Maps the unary operator over the lattice set of the operand, i.e. each</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">  /// lattice point on an expression E is simply copied over, but with OP E</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">  /// as new expression. Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a6ee9b1ddba73896a873f8a7719c14cbd">mapSet</a>(<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">TensorExp::Kind</a> <a class="code" href="LinalgOps_8cpp.html#a13cd3ed9dcb153ca533c4ad45950c3b8">kind</a>, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s, <a class="code" href="classmlir_1_1Value.html">Value</a> v = <a class="code" href="classmlir_1_1Value.html">Value</a>(),</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                  <a class="code" href="classmlir_1_1Operation.html">Operation</a> *op = <span class="keyword">nullptr</span>, <a class="code" href="classmlir_1_1Attribute.html">Attribute</a> attr = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">  /// Maps the binary operator to the same operation but with one of its operand</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">  /// set to zero, i.e. each lattice point on an expression E is simply copied</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">  /// over, but with `OP 0 E` (if lhsZero == true) or `OP E 0` (if lhsZero ==</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">  /// false) as new expression. Returns the identifier of the new set.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a3255993a74453556faec0c296d8394b1">mapBinWithSynZeroSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s, <span class="keywordtype">bool</span> lhsZero);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">  /// Optimizes the iteration lattice points in the given set. This</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">  /// method should be called right before code generation to avoid</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">  /// generating redundant loops and conditions.</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a8dbc59b5e321a4ebea4fea6bc0c592b4">optimizeSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">  /// Simplifies the conditions in a conjunction of a given lattice point</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">  /// within the given set using just two basic rules:</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">  /// (1) multiple dense conditions are reduced to single dense, and</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">  /// (2) a *singleton* sparse/dense is reduced to sparse/random access.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span>  BitVector <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a426ae1c54370a04ece01df94f1e72938">simplifyCond</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s, <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  /// Returns true if p0 &gt; p1.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad1987cef7c6bff1fe5732c000920f8a0">latGT</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p1) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  /// Returns true if p0 and p1 only differ in dense.</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ae76fe4e1ba5932cba5ad49acee2a8038">onlyDenseDiff</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p0, <a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p1) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">  /// Gets the tensor-identifier of the `TensorLoopId`.</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">  346</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> b % numTensors; }<span class="comment"></span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">  /// Gets the loop-identifier of the `TensorLoopId`.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">  348</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> b / numTensors; }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">  /// Gets the total number of tensors (including the output-tensor and</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">  /// synthetic-tensor).</span></div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4702f92230ddfbba1ee4feb94f7fbd03">  352</a></span>&#160;<span class="comment"></span>  constexpr <span class="keywordtype">unsigned</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4702f92230ddfbba1ee4feb94f7fbd03">getNumTensors</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> numTensors; }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  /// Gets the total number of loops (native loops + filter loops).</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a08ccf0c49c1bcbcce657f4850eb71541">  355</a></span>&#160;<span class="comment"></span>  constexpr <span class="keywordtype">unsigned</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a08ccf0c49c1bcbcce657f4850eb71541">getNumLoops</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> numLoops; }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  /// Returns true if `b` is the `i`th loop of the output tensor.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a20a7ec89ec6db7194203e913878d41aa">  358</a></span>&#160;<span class="comment"></span>  constexpr <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a20a7ec89ec6db7194203e913878d41aa">isOutTensor</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> b == <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#af6d0df0a35a3a09e3e646fca3af516d0">makeTensorLoopId</a>(outTensor, i);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">  /// Gets the output tensor&#39;s identifier.</span></div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ae75ad5afa447295cf7b2f2f09cc0fd89">  363</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ae75ad5afa447295cf7b2f2f09cc0fd89">getOutTensorID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> outTensor; }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">  /// Gets the synthetic tensor&#39;s identifier (used for all invariant</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  /// tensor expressions).</span></div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad18eee8a15dc2a6525ca1b247c9573dc">  367</a></span>&#160;<span class="comment"></span>  constexpr <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad18eee8a15dc2a6525ca1b247c9573dc">getSynTensorID</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> syntheticTensor; }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">  /// Returns true if the expression is `(kTensor t)`.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#af8567c5bdfc3cf1691c39efaa3bfb68f">  370</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#af8567c5bdfc3cf1691c39efaa3bfb68f">expIsTensor</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;expr = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(e);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span> expr.kind == <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7323b0c2eca65bea3e4ebaf6810b3f46">TensorExp::Kind::kTensor</a> &amp;&amp; expr.tensor == t;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">  /// Returns true if the expression contains the tensor as an operand.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a2c939d094eaa66d0fb3250417767b8e4">expContainsTensor</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  /// Returns true if the expression contains a negation on output tensor.</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  /// I.e., `- outTensor` or `exp - outputTensor`</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">  /// NOTE: this is an trivial tests in that it does not handle recursive</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">  /// negation, i.e., it returns true when the expression is `-(-tensor)`.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a42b3d5d98ca275c8e794aa9491a0439c">hasNegateOnOut</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">  /// Returns true if given tensor iterates *only* in the given tensor</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">  /// expression. For the output tensor, this defines a &quot;simply dynamic&quot;</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">  /// operation [Bik96]. For instance: a(i) *= 2.0 or a(i) += a(i) for</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">  /// sparse vector a.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a20b9c71bbd123b7a440e0d3d8771eee6">isSingleCondition</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">  /// Returns true if any `TensorLoopId` in the bitvector corresponds</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">  /// to sparse level-type.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac101290f206fb2fb2af7370d44d960bb">hasAnySparse</a>(<span class="keyword">const</span> BitVector &amp;bits) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">  /// Returns true if bits contains a dependent index reduction condition on</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">  /// sparse levels.</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a2906190bde27e0dc664d1303c8e26399">hasSparseIdxReduction</a>(<span class="keyword">const</span> BitVector &amp;bits) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">  /// Gets the level-type of the `t`th tensor on `i`th loop.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeddadbbafcc6849382f1dfc700dbe6f5">  399</a></span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeddadbbafcc6849382f1dfc700dbe6f5">getLvlType</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    assert(isValidTensorId(t) &amp;&amp; isValidLoopId(i));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> lvlTypes[t][i];</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">  /// Gets the level-type of the TensorLoopId.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ab18e8fa645964482d150634e1937d7b8">  405</a></span>&#160;<span class="comment"></span>  <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ab18e8fa645964482d150634e1937d7b8">getLvlType</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeddadbbafcc6849382f1dfc700dbe6f5">getLvlType</a>(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b), <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(b));</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">  /// Gets the loop identifier for the `lvl`th level of the `t`th tensor.</span></div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a414d69fbc5d58c7babcf24cf5dd43b16">  410</a></span>&#160;<span class="comment"></span>  std::optional&lt;LoopId&gt; <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a414d69fbc5d58c7babcf24cf5dd43b16">getLoopId</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> lvl)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    assert(isValidLevel(t, lvl));</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">return</span> lvlToLoop[t][lvl];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">  /// Gets the level number of the the `t`th tensor on `i`th loop.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1cba645c8dd67fbbba888d2199bb031f">  416</a></span>&#160;<span class="comment"></span>  std::optional&lt;Level&gt; <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1cba645c8dd67fbbba888d2199bb031f">getLvl</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    assert(isValidTensorId(t) &amp;&amp; isValidLoopId(i));</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> loopToLvl[t][i];</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a83cbf6b1ae87d6a35fbf675ac113f35c">  420</a></span>&#160;  std::optional&lt;Level&gt; <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a83cbf6b1ae87d6a35fbf675ac113f35c">getLvl</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1cba645c8dd67fbbba888d2199bb031f">getLvl</a>(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b), <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(b));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">  /// Sets the level number and level-type of the `t`th tensor on</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">  /// `i`th loop.</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a6df1c29ec4fd7cc2ceccf934da8aad31">  426</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a6df1c29ec4fd7cc2ceccf934da8aad31">setLevelAndType</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> lvl, <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a> lt) {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    assert(isValidLevel(t, lvl) &amp;&amp; isValidLoopId(i) &amp;&amp; <a class="code" href="namespacemlir_1_1sparse__tensor.html#ab94794453c12889554edeaee94f50b07">isValidLT</a>(lt));</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    lvlTypes[t][i] = lt;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    loopToLvl[t][i] = lvl;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    lvlToLoop[t][lvl] = i;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// TODO: favor a constant loop bound when there are multiple choices.</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    loopBounds[i] = std::make_pair(t, lvl);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a813ee94ba1a76bd7476e267cebbb8e6c">  435</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classllvm_1_1function__ref.html">ForeachTensorLoopIdCallback</a> = <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;void(</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      <a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a>, <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a>, std::optional&lt;Level&gt;, <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a>, <span class="keywordtype">bool</span>)&gt;;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">  /// Iterates over a set of `TensorLoopId`s, invoking the callback</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">  /// for each `TensorLoopId` and passing it the corresponding tensor</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">  /// identifier, level, and level-type, following with a boolean value</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">  /// indicating whether it is a dependent index reduction loop condition.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a7c6860a6470680e4a11d0b22ed79f83f">  442</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a7c6860a6470680e4a11d0b22ed79f83f">foreachTensorLoopId</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p,</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                           <a class="code" href="classllvm_1_1function__ref.html">ForeachTensorLoopIdCallback</a> callback)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// TODO: the default ought to be simple=true; but we&#39;ll need to make</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">// sure to update all the tests to make sure they do the right thing.</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a7c6860a6470680e4a11d0b22ed79f83f">foreachTensorLoopId</a>(p, <span class="comment">/*simple=*/</span><span class="keyword">false</span>, callback);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a3963a6739426c35736a897318e5f5ba0">  448</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a3963a6739426c35736a897318e5f5ba0">foreachTensorLoopId</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p, <span class="keywordtype">bool</span> simple,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                           <a class="code" href="classllvm_1_1function__ref.html">ForeachTensorLoopIdCallback</a> callback)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;point = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#adab36d6fab4b26574308133668b25c68">lat</a>(p);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bits = simple ? point.simple : point.bits;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b : bits.set_bits()) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> optLvl = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1cba645c8dd67fbbba888d2199bb031f">getLvl</a>(b);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> lvlTp = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aeddadbbafcc6849382f1dfc700dbe6f5">getLvlType</a>(b);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">isLvlWithNonTrivialIdxExp</a>(b)) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="comment">// This must be an undefined level.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        assert(!optLvl.has_value());</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="comment">// Slice the tid along the dependent level to iterate current loop.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        callback(b, t, <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1830eb624f17d91154d4b3653ca88812">getLoopDependentLevel</a>(b), lvlTp,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                 <span class="comment">/*isIdxReduc=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        callback(b, t, optLvl, lvlTp, <span class="comment">/*isIdxReduc=*/</span><span class="keyword">false</span>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">  /// Sets whether the output tensor is sparse or not.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a061b6a8915511fb5333221f1fb408d2b">  469</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a061b6a8915511fb5333221f1fb408d2b">setHasSparseOut</a>(<span class="keywordtype">bool</span> s) { hasSparseOut = s; }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">  /// Establishes the two-way map that i &lt;-&gt; &lt;t, lvl, lt&gt;.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa67917d89b5613f71394d78b629d5cc1">  472</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa67917d89b5613f71394d78b629d5cc1">setLoopDependentTensorLevel</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i, <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> lvl,</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                   <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a> lt, <span class="keywordtype">unsigned</span> coefficient) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    assert(isValidLoopId(i) &amp;&amp; isValidLevel(t, lvl));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    assert(!loopToUnresolvedLvls[i][t].has_value()); <span class="comment">// must be the first def</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    loopToUnresolvedLvls[i][t] = std::make_pair(lvl, lt);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    levelToDependentLoop[t][lvl].emplace_back(i, coefficient);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">  /// Whether the loop has dependent slice.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#afd042fcac8ed6191c782584b3138cba1">  481</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#afd042fcac8ed6191c782584b3138cba1">hasDependentLvl</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i, <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    assert(isValidTensorId(t) &amp;&amp; isValidLoopId(i));</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span> loopToUnresolvedLvls[i][t].has_value();</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">  /// Returns the list of loop indices which appear in the non-trivial index</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">  /// expression on t_l, e.g., A[i+j] =&gt; {i, j}</span></div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac635c5ab78aa810d9be7468c6b7ec361">  488</a></span>&#160;<span class="comment"></span>  std::vector&lt;LoopCoeffPair&gt; &amp;<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac635c5ab78aa810d9be7468c6b7ec361">getDependentLoops</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> lvl) {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    assert(isValidLevel(t, lvl));</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> levelToDependentLoop[t][lvl];</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">  /// Returns the defining [tid, lvl] for the loop.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a42345ae01bf32d35b6b8bda040012c68">  494</a></span>&#160;<span class="comment"></span>  std::pair&lt;TensorId, Level&gt; <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a42345ae01bf32d35b6b8bda040012c68">getLoopDefiningLvl</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    assert(isValidLoopId(i));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">return</span> loopBounds[i];</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">  /// Checks whether the TensorLoopId represents a tensor level contains</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">  /// non-trivial index expression.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">  501</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">isLvlWithNonTrivialIdxExp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(b);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    assert(isValidTensorId(t) &amp;&amp; isValidLoopId(i));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> loopToUnresolvedLvls[i][t].has_value();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">  /// Checks whether the TensorLoopId represents a sparse tensor level contains</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">  /// non-trivial index expression.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a349e897abc491c7acccc76fe94428bd7">  510</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a349e897abc491c7acccc76fe94428bd7">isSparseLvlWithNonTrivialIdxExp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">isLvlWithNonTrivialIdxExp</a>(b)) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="keyword">auto</span> lt = <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aec484ee0fdbfba530179ad4910665071">getLoopDependentLevelType</a>(b);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">return</span> lt.hasSparseSemantic();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1830eb624f17d91154d4b3653ca88812">  518</a></span>&#160;  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a1830eb624f17d91154d4b3653ca88812">getLoopDependentLevel</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    assert(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">isLvlWithNonTrivialIdxExp</a>(b));</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> loopToUnresolvedLvls[<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(b)][<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b)]-&gt;first;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#aec484ee0fdbfba530179ad4910665071">  523</a></span>&#160;  <a class="code" href="structmlir_1_1sparse__tensor_1_1LevelType.html">LevelType</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aec484ee0fdbfba530179ad4910665071">getLoopDependentLevelType</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">TensorLoopId</a> b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    assert(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">isLvlWithNonTrivialIdxExp</a>(b));</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> loopToUnresolvedLvls[<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">loop</a>(b)][<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">tensor</a>(b)]-&gt;second;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">  /// Convenience getters to immediately access the stored nodes.</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">  /// These methods return `const&amp;` because the underlying objects must</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">  /// not be mutated by client code.  The only exception is for mutating</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">  /// the value associated with an expression, for which there are</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">  /// dedicated methods below.</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">  ///</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">  /// NOTE: It is inadvisable to keep the reference alive for a long</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment">  /// time (e.g., as in `TensorExpr &amp;te = merger.exp(e)`), since insertions</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">  /// into the merger can cause data movement which will invalidate the</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">  /// underlying memory address.  This isn&#39;t just a problem with the `&amp;`</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">  /// references, but also applies to the `ArrayRef`.  In particular,</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">  /// using `for (LatPointId p : merger.set(s))` will run into the same</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">  /// dangling-reference problems if the loop body inserts new sets.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">  541</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html">TensorExp</a> &amp;<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    assert(isValidExprId(e));</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> tensorExps[e];</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#adab36d6fab4b26574308133668b25c68">  545</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structmlir_1_1sparse__tensor_1_1LatPoint.html">LatPoint</a> &amp;<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#adab36d6fab4b26574308133668b25c68">lat</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    assert(isValidLatPointId(p));</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> latPoints[p];</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div>
<div class="line"><a name="l00549"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a84aef1344a5159a4566e9c9a983c4148">  549</a></span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;LatPointId&gt;</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a84aef1344a5159a4566e9c9a983c4148">set</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    assert(isValidLatSetId(s));</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> latSets[s];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">  /// Checks whether the given expression has an associated value.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#a38c58d8c4a799d8c190dcac7eea7f6fc">  555</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a38c58d8c4a799d8c190dcac7eea7f6fc">hasExprValue</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(e).<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a44d3cc94ea4c0e89173177b47d0d836e">val</a>); }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">  /// Sets the expression to have the associated value. Asserts that the new</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">  /// value is defined, and that the expression does not already have a value.</span></div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#af98612b2c27acf7213211e659e4fe331">  559</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#af98612b2c27acf7213211e659e4fe331">setExprValue</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="classmlir_1_1Value.html">Value</a> v) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    assert(!<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(e).val &amp;&amp; <span class="stringliteral">&quot;Expression already has an associated value&quot;</span>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    assert(v &amp;&amp; <span class="stringliteral">&quot;Trying to assign an undefined value&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    tensorExps[e].val = v;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">  /// Clears the value associated with the expression. Asserts that the</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">  /// expression does indeed have an associated value before clearing it.</span></div>
<div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac4e7f3fa50bbf60e4cd3267587c1d9e2">  567</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ac4e7f3fa50bbf60e4cd3267587c1d9e2">clearExprValue</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) {</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    assert(<a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(e).val &amp;&amp; <span class="stringliteral">&quot;Expression does not have an associated value&quot;</span>);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    tensorExps[e].val = <a class="code" href="classmlir_1_1Value.html">Value</a>();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span><span class="comment"></span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">  /// Print methods (for debugging).</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#aa6f869e51177cf11e5e2f24ea369be6f">dumpExp</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4eb18d0144c99cdb5b63dba5841a4795">dumpLat</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a4df3dc911d0a43a7386bcece551be83c">dumpSet</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a36336dbed6c6cb1cf34cce441704f04e">dumpBits</a>(<span class="keyword">const</span> BitVector &amp;bits) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">  /// Builds the iteration lattices in a bottom-up traversal given the</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">  /// remaining tensor (sub)expression and the next loop in the iteration</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">  /// graph.  Returns the identifier of the root set.</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"></span>  <a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a54e22da95550b7c2aaaf1beb1bada604">buildLattices</a>(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">  /// Builds a tensor expression from the given Linalg operation.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">  /// On success, returns the identifier of the root expression.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span>  std::optional&lt;ExprId&gt; <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#a67197acdd2425d755f9695360cca6633">buildTensorExpFromLinalg</a>(linalg::GenericOp op);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">  /// Rebuilds SSA format from a tensor expression.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment"></span>  <a class="code" href="classmlir_1_1Value.html">Value</a> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#af4078635c6861d80acf1385f1f0e960b">buildExp</a>(<a class="code" href="classmlir_1_1RewriterBase.html">RewriterBase</a> &amp;rewriter, <a class="code" href="classmlir_1_1Location.html">Location</a> loc, <a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, <a class="code" href="classmlir_1_1Value.html">Value</a> v0,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                 <a class="code" href="classmlir_1_1Value.html">Value</a> v1) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">  /// Private helpers.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"></span>  constexpr <span class="keywordtype">bool</span> isValidTensorId(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> t &lt; numTensors; }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  constexpr <span class="keywordtype">bool</span> isValidLoopId(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">LoopId</a> i)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span> i != <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">detail::kInvalidId</a> &amp;&amp; i &lt; numLoops;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keywordtype">bool</span> isValidLevel(<a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> t, <a class="code" href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">Level</a> lvl)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    assert(levelToDependentLoop[t].size() == lvlToLoop[t].size());</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordflow">return</span> isValidTensorId(t) &amp;&amp; lvl &lt; lvlToLoop[t].size();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordtype">bool</span> isValidExprId(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">return</span> e != <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">detail::kInvalidId</a> &amp;&amp; e &lt; tensorExps.size();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  }</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="keywordtype">bool</span> isValidLatPointId(<a class="code" href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">LatPointId</a> p)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> p != <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">detail::kInvalidId</a> &amp;&amp; p &lt; latPoints.size();</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordtype">bool</span> isValidLatSetId(<a class="code" href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">LatSetId</a> s)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">return</span> s != <a class="code" href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">detail::kInvalidId</a> &amp;&amp; s &lt; latSets.size();</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordtype">bool</span> maybeZero(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordtype">bool</span> isInvariant(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">exp</a>(e).<a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a944102e3a05a7a489455848bdfb05cc4">kind</a> == <a class="code" href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2abfd4b7df606bfcbbaced63a2b3dcde60">TensorExp::Kind::kInvariant</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  Type inferType(<a class="code" href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">ExprId</a> e, Value src) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">  /// Traverses the SSA tree (possibly a DAG) to build a tensor expression.</span></div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">  /// The boolean value returned indicates whether the result of the current</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">  /// operation being built depends on any value that is loaded from a sparse</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">  /// tensor.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"></span>  std::pair&lt;std::optional&lt;ExprId&gt;, <span class="keywordtype">bool</span>&gt; buildTensorExp(linalg::GenericOp op,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                                                        Value v);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">  /// Merger data structures.</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> outTensor;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keyword">const</span> <a class="code" href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">TensorId</a> syntheticTensor;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> numTensors;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> numLoops;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordtype">bool</span> hasSparseOut;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="comment">// Below we use `std::vector` for things which have a priori fixed</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="comment">// sizes, whereas we use `llvm::SmallVector` for things with variable</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="comment">// size.  Do beware that these two classes differ in the semantics of</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="comment">// `operator[]`: `SmallVector` performs OOB checks, whereas `std::vector`</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="comment">// does not.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">  /// Map that converts pair&lt;TensorId, LoopId&gt; to the corresponding lvl-type.</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"></span>  std::vector&lt;std::vector&lt;LevelType&gt;&gt; lvlTypes;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">  /// Map that converts pair&lt;TensorId, LoopId&gt; to the corresponding lvl.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span>  std::vector&lt;std::vector&lt;std::optional&lt;Level&gt;&gt;&gt; loopToLvl;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">  /// Map that converts pair&lt;TensorId, Level&gt; to the corresponding LoopId.</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment"></span>  std::vector&lt;std::vector&lt;std::optional&lt;LoopId&gt;&gt;&gt; lvlToLoop;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">  /// Map from a loop to its dependencies if any.</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">  /// The dependencies of a loop is a set of (tensor, level) pairs.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">  /// It is currently only set for non-trivial index expressions.</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">  /// E.g., A[i+j] =&gt; i and j will have dependencies {A0, lt(A0)} to indicate</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">  /// that i and j are used in the non-trivial index expression on A0.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"></span>  std::vector&lt;std::vector&lt;std::optional&lt;LvlLTPair&gt;&gt;&gt; loopToUnresolvedLvls;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">  /// The inverse map of ldxToDependencies from tensor level -&gt; dependent loop</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">  /// E.g., A[2i+j], we have A0 =&gt; {(2, i), (1, j)}, to indicate that A0 uses</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">  /// both {i, j} to compute its indices and the coefficients on the loop id are</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">  /// 2 and 1 respectively.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment"></span>  std::vector&lt;std::vector&lt;std::vector&lt;LoopCoeffPair&gt;&gt;&gt; levelToDependentLoop;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">  /// Map from a loop to the [tid, lvl] pair that defines the loop boundary.</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"></span>  std::vector&lt;std::pair&lt;TensorId, Level&gt;&gt; loopBounds;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160; </div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;TensorExp&gt;</a> tensorExps;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;LatPoint&gt;</a> latPoints;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">llvm::SmallVector&lt;SmallVector&lt;LatPointId&gt;</a>&gt; latSets;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;};</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;} <span class="comment">// namespace sparse_tensor</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;} <span class="comment">// namespace mlir</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="preprocessor">#endif </span><span class="comment">// MLIR_DIALECT_SPARSETENSOR_UTILS_MERGER_H_</span></div>
<div class="ttc" id="aEnums_8h_html"><div class="ttname"><a href="Enums_8h.html">Enums.h</a></div></div>
<div class="ttc" id="aLinalgOps_8cpp_html_a13cd3ed9dcb153ca533c4ad45950c3b8"><div class="ttname"><a href="LinalgOps_8cpp.html#a13cd3ed9dcb153ca533c4ad45950c3b8">kind</a></div><div class="ttdeci">union mlir::linalg::@1245::ArityGroupAndKind::Kind kind</div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdef"><b>Definition:</b> <a href="mlir_2Support_2LLVM_8h_source.html#l00048">LLVM.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdef"><b>Definition:</b> <a href="mlir_2Support_2LLVM_8h_source.html#l00072">LLVM.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdef"><b>Definition:</b> <a href="mlir_2Support_2LLVM_8h_source.html#l00090">LLVM.h:90</a></div></div>
<div class="ttc" id="aclassmlir_1_1Attribute_html"><div class="ttname"><a href="classmlir_1_1Attribute.html">mlir::Attribute</a></div><div class="ttdoc">Attributes are known-constant values of operations.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00025">Attributes.h:25</a></div></div>
<div class="ttc" id="aclassmlir_1_1Location_html"><div class="ttname"><a href="classmlir_1_1Location.html">mlir::Location</a></div><div class="ttdoc">This class defines the main interface for locations in MLIR and acts as a non-nullable wrapper around...</div><div class="ttdef"><b>Definition:</b> <a href="Location_8h_source.html#l00076">Location.h:76</a></div></div>
<div class="ttc" id="aclassmlir_1_1Operation_html"><div class="ttname"><a href="classmlir_1_1Operation.html">mlir::Operation</a></div><div class="ttdoc">Operation is the basic unit of execution within MLIR.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Operation_8h_source.html#l00084">Operation.h:88</a></div></div>
<div class="ttc" id="aclassmlir_1_1RewriterBase_html"><div class="ttname"><a href="classmlir_1_1RewriterBase.html">mlir::RewriterBase</a></div><div class="ttdoc">This class coordinates the application of a rewrite on a set of IR, providing a way for clients to tr...</div><div class="ttdef"><b>Definition:</b> <a href="PatternMatch_8h_source.html#l00368">PatternMatch.h:368</a></div></div>
<div class="ttc" id="aclassmlir_1_1Value_html"><div class="ttname"><a href="classmlir_1_1Value.html">mlir::Value</a></div><div class="ttdoc">This class represents an instance of an SSA value in the MLIR system, representing a computable value...</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00096">Value.h:96</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html">mlir::sparse_tensor::Merger</a></div><div class="ttdoc">A class to handle all iteration lattice operations.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00225">Merger.h:225</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a061b6a8915511fb5333221f1fb408d2b"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a061b6a8915511fb5333221f1fb408d2b">mlir::sparse_tensor::Merger::setHasSparseOut</a></div><div class="ttdeci">void setHasSparseOut(bool s)</div><div class="ttdoc">Sets whether the output tensor is sparse or not.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00469">Merger.h:469</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a08ccf0c49c1bcbcce657f4850eb71541"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a08ccf0c49c1bcbcce657f4850eb71541">mlir::sparse_tensor::Merger::getNumLoops</a></div><div class="ttdeci">constexpr unsigned getNumLoops() const</div><div class="ttdoc">Gets the total number of loops (native loops + filter loops).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00355">Merger.h:355</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a1209fc6fd118ff26b0c4af65f2c44585"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a1209fc6fd118ff26b0c4af65f2c44585">mlir::sparse_tensor::Merger::conjLat</a></div><div class="ttdeci">LatPointId conjLat(ExprId e, LatPointId p0, LatPointId p1, Operation *op=nullptr)</div><div class="ttdoc">Computes a single conjunction of two lattice points by taking the &quot;union&quot; of LoopId (effectively cons...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00315">Merger.cpp:315</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a14621c904e8a39335c2aa4d1f5b2abee"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a14621c904e8a39335c2aa4d1f5b2abee">mlir::sparse_tensor::Merger::disjSet</a></div><div class="ttdeci">LatSetId disjSet(ExprId e, LatSetId s0, LatSetId s1, Operation *op=nullptr)</div><div class="ttdoc">Disjunctive merge of two lattice sets: (s0 /\_op s1, s0, s1).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00338">Merger.cpp:338</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a1830eb624f17d91154d4b3653ca88812"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a1830eb624f17d91154d4b3653ca88812">mlir::sparse_tensor::Merger::getLoopDependentLevel</a></div><div class="ttdeci">Level getLoopDependentLevel(TensorLoopId b) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00518">Merger.h:518</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a1cba645c8dd67fbbba888d2199bb031f"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a1cba645c8dd67fbbba888d2199bb031f">mlir::sparse_tensor::Merger::getLvl</a></div><div class="ttdeci">std::optional&lt; Level &gt; getLvl(TensorId t, LoopId i) const</div><div class="ttdoc">Gets the level number of the the tth tensor on ith loop.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00416">Merger.h:416</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a20a7ec89ec6db7194203e913878d41aa"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a20a7ec89ec6db7194203e913878d41aa">mlir::sparse_tensor::Merger::isOutTensor</a></div><div class="ttdeci">constexpr bool isOutTensor(TensorLoopId b, LoopId i) const</div><div class="ttdoc">Returns true if b is the ith loop of the output tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00358">Merger.h:358</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a20b9c71bbd123b7a440e0d3d8771eee6"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a20b9c71bbd123b7a440e0d3d8771eee6">mlir::sparse_tensor::Merger::isSingleCondition</a></div><div class="ttdeci">bool isSingleCondition(TensorId t, ExprId e) const</div><div class="ttdoc">Returns true if given tensor iterates only in the given tensor expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00577">Merger.cpp:577</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a2906190bde27e0dc664d1303c8e26399"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a2906190bde27e0dc664d1303c8e26399">mlir::sparse_tensor::Merger::hasSparseIdxReduction</a></div><div class="ttdeci">bool hasSparseIdxReduction(const BitVector &amp;bits) const</div><div class="ttdoc">Returns true if bits contains a dependent index reduction condition on sparse levels.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00680">Merger.cpp:680</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a2c939d094eaa66d0fb3250417767b8e4"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a2c939d094eaa66d0fb3250417767b8e4">mlir::sparse_tensor::Merger::expContainsTensor</a></div><div class="ttdeci">bool expContainsTensor(ExprId e, TensorId t) const</div><div class="ttdoc">Returns true if the expression contains the tensor as an operand.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00522">Merger.cpp:522</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a3255993a74453556faec0c296d8394b1"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a3255993a74453556faec0c296d8394b1">mlir::sparse_tensor::Merger::mapBinWithSynZeroSet</a></div><div class="ttdeci">LatSetId mapBinWithSynZeroSet(ExprId e, LatSetId s, bool lhsZero)</div><div class="ttdoc">Maps the binary operator to the same operation but with one of its operand set to zero,...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00414">Merger.cpp:414</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a349e897abc491c7acccc76fe94428bd7"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a349e897abc491c7acccc76fe94428bd7">mlir::sparse_tensor::Merger::isSparseLvlWithNonTrivialIdxExp</a></div><div class="ttdeci">bool isSparseLvlWithNonTrivialIdxExp(TensorLoopId b) const</div><div class="ttdoc">Checks whether the TensorLoopId represents a sparse tensor level contains non-trivial index expressio...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00510">Merger.h:510</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a36336dbed6c6cb1cf34cce441704f04e"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a36336dbed6c6cb1cf34cce441704f04e">mlir::sparse_tensor::Merger::dumpBits</a></div><div class="ttdeci">void dumpBits(const BitVector &amp;bits) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00920">Merger.cpp:920</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a38c58d8c4a799d8c190dcac7eea7f6fc"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a38c58d8c4a799d8c190dcac7eea7f6fc">mlir::sparse_tensor::Merger::hasExprValue</a></div><div class="ttdeci">bool hasExprValue(ExprId e) const</div><div class="ttdoc">Checks whether the given expression has an associated value.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00555">Merger.h:555</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a3963a6739426c35736a897318e5f5ba0"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a3963a6739426c35736a897318e5f5ba0">mlir::sparse_tensor::Merger::foreachTensorLoopId</a></div><div class="ttdeci">void foreachTensorLoopId(LatPointId p, bool simple, ForeachTensorLoopIdCallback callback) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00448">Merger.h:448</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a3c148d0eb73887cbd2ec2b359bf2dbb8"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a3c148d0eb73887cbd2ec2b359bf2dbb8">mlir::sparse_tensor::Merger::addSet</a></div><div class="ttdeci">LatSetId addSet()</div><div class="ttdoc">Constructs a new (initially empty) set, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00309">Merger.cpp:309</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a414d69fbc5d58c7babcf24cf5dd43b16"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a414d69fbc5d58c7babcf24cf5dd43b16">mlir::sparse_tensor::Merger::getLoopId</a></div><div class="ttdeci">std::optional&lt; LoopId &gt; getLoopId(TensorId t, Level lvl) const</div><div class="ttdoc">Gets the loop identifier for the lvlth level of the tth tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00410">Merger.h:410</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a42345ae01bf32d35b6b8bda040012c68"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a42345ae01bf32d35b6b8bda040012c68">mlir::sparse_tensor::Merger::getLoopDefiningLvl</a></div><div class="ttdeci">std::pair&lt; TensorId, Level &gt; getLoopDefiningLvl(LoopId i) const</div><div class="ttdoc">Returns the defining [tid, lvl] for the loop.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00494">Merger.h:494</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a426ae1c54370a04ece01df94f1e72938"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a426ae1c54370a04ece01df94f1e72938">mlir::sparse_tensor::Merger::simplifyCond</a></div><div class="ttdeci">BitVector simplifyCond(LatSetId s, LatPointId p)</div><div class="ttdoc">Simplifies the conditions in a conjunction of a given lattice point within the given set using just t...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00461">Merger.cpp:461</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a42b3d5d98ca275c8e794aa9491a0439c"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a42b3d5d98ca275c8e794aa9491a0439c">mlir::sparse_tensor::Merger::hasNegateOnOut</a></div><div class="ttdeci">bool hasNegateOnOut(ExprId e) const</div><div class="ttdoc">Returns true if the expression contains a negation on output tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00544">Merger.cpp:544</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a4702f92230ddfbba1ee4feb94f7fbd03"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a4702f92230ddfbba1ee4feb94f7fbd03">mlir::sparse_tensor::Merger::getNumTensors</a></div><div class="ttdeci">constexpr unsigned getNumTensors() const</div><div class="ttdoc">Gets the total number of tensors (including the output-tensor and synthetic-tensor).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00352">Merger.h:352</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a4c103184eac5a6fab469c5144f6bb9ca"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c103184eac5a6fab469c5144f6bb9ca">mlir::sparse_tensor::Merger::isLvlWithNonTrivialIdxExp</a></div><div class="ttdeci">bool isLvlWithNonTrivialIdxExp(TensorLoopId b) const</div><div class="ttdoc">Checks whether the TensorLoopId represents a tensor level contains non-trivial index expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00501">Merger.h:501</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a4c7ca418781020241d923843c9f46139"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a4c7ca418781020241d923843c9f46139">mlir::sparse_tensor::Merger::disjSetWithZero</a></div><div class="ttdeci">LatSetId disjSetWithZero(ExprId e, LatSetId s0, LatSetId s1)</div><div class="ttdoc">Disjunctive merge of two lattice sets and also set one of the operand to zero: (s0 /\_op s1 (e0 op e1...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00356">Merger.cpp:356</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a4df3dc911d0a43a7386bcece551be83c"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a4df3dc911d0a43a7386bcece551be83c">mlir::sparse_tensor::Merger::dumpSet</a></div><div class="ttdeci">void dumpSet(LatSetId s) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00910">Merger.cpp:910</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a4eb18d0144c99cdb5b63dba5841a4795"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a4eb18d0144c99cdb5b63dba5841a4795">mlir::sparse_tensor::Merger::dumpLat</a></div><div class="ttdeci">void dumpLat(LatPointId p) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00899">Merger.cpp:899</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a53c9e62c00fd5ed060c6c1932fccad17"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a53c9e62c00fd5ed060c6c1932fccad17">mlir::sparse_tensor::Merger::combiSet</a></div><div class="ttdeci">LatSetId combiSet(ExprId e, LatSetId s0, LatSetId s1, Operation *orig, bool includeLeft, TensorExp::Kind ltrans, Operation *opleft, bool includeRight, TensorExp::Kind rtrans, Operation *opright)</div><div class="ttdoc">Disjunctive merge of two lattice sets with custom handling of the overlap, left, and right regions.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00380">Merger.cpp:380</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a54aec8a8298e722513fa882dcf0a98f7"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a54aec8a8298e722513fa882dcf0a98f7">mlir::sparse_tensor::Merger::addTensorExp</a></div><div class="ttdeci">ExprId addTensorExp(TensorId t)</div><div class="ttdoc">Constructs a new tensor expression, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00247">Merger.cpp:247</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a54e22da95550b7c2aaaf1beb1bada604"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a54e22da95550b7c2aaaf1beb1bada604">mlir::sparse_tensor::Merger::buildLattices</a></div><div class="ttdeci">LatSetId buildLattices(ExprId e, LoopId i)</div><div class="ttdoc">Builds the iteration lattices in a bottom-up traversal given the remaining tensor (sub)expression and...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00940">Merger.cpp:940</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a5603e194b7ab83aabb5bfa3bd39c51c5"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a5603e194b7ab83aabb5bfa3bd39c51c5">mlir::sparse_tensor::Merger::conjSet</a></div><div class="ttdeci">LatSetId conjSet(ExprId e, LatSetId s0, LatSetId s1, Operation *op=nullptr)</div><div class="ttdoc">Conjunctive merge of two lattice sets: (s0 /\_op s1).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00329">Merger.cpp:329</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a5a4f123ff5152cdfbbb6bf324b9ba476"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a5a4f123ff5152cdfbbb6bf324b9ba476">mlir::sparse_tensor::Merger::addExp</a></div><div class="ttdeci">ExprId addExp(TensorExp::Kind k, ExprId e0, ExprId e1=detail::kInvalidId, Operation *op=nullptr, Attribute attr=nullptr)</div><div class="ttdoc">Constructs a new unary or binary expression, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00277">Merger.cpp:277</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a6217f2068c5578cc73de31c85b3d65ef"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a6217f2068c5578cc73de31c85b3d65ef">mlir::sparse_tensor::Merger::addSynZeroExp</a></div><div class="ttdeci">ExprId addSynZeroExp()</div><div class="ttdoc">Constructs a new synthetic zero expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00270">Merger.cpp:270</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a62ffbc8056e87e82c911b2acd22329cb"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a62ffbc8056e87e82c911b2acd22329cb">mlir::sparse_tensor::Merger::makeLoopId</a></div><div class="ttdeci">constexpr LoopId makeLoopId(unsigned i) const</div><div class="ttdoc">Safely converts the argument to a loop identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00249">Merger.h:249</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a67197acdd2425d755f9695360cca6633"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a67197acdd2425d755f9695360cca6633">mlir::sparse_tensor::Merger::buildTensorExpFromLinalg</a></div><div class="ttdeci">std::optional&lt; ExprId &gt; buildTensorExpFromLinalg(linalg::GenericOp op)</div><div class="ttdoc">Builds a tensor expression from the given Linalg operation.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l01193">Merger.cpp:1193</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a6df1c29ec4fd7cc2ceccf934da8aad31"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a6df1c29ec4fd7cc2ceccf934da8aad31">mlir::sparse_tensor::Merger::setLevelAndType</a></div><div class="ttdeci">void setLevelAndType(TensorId t, LoopId i, Level lvl, LevelType lt)</div><div class="ttdoc">Sets the level number and level-type of the tth tensor on ith loop.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00426">Merger.h:426</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a6ee9b1ddba73896a873f8a7719c14cbd"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a6ee9b1ddba73896a873f8a7719c14cbd">mlir::sparse_tensor::Merger::mapSet</a></div><div class="ttdeci">LatSetId mapSet(TensorExp::Kind kind, LatSetId s, Value v=Value(), Operation *op=nullptr, Attribute attr=nullptr)</div><div class="ttdoc">Maps the unary operator over the lattice set of the operand, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00401">Merger.cpp:401</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a7c6860a6470680e4a11d0b22ed79f83f"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a7c6860a6470680e4a11d0b22ed79f83f">mlir::sparse_tensor::Merger::foreachTensorLoopId</a></div><div class="ttdeci">void foreachTensorLoopId(LatPointId p, ForeachTensorLoopIdCallback callback) const</div><div class="ttdoc">Iterates over a set of TensorLoopIds, invoking the callback for each TensorLoopId and passing it the ...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00442">Merger.h:442</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a83cbf6b1ae87d6a35fbf675ac113f35c"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a83cbf6b1ae87d6a35fbf675ac113f35c">mlir::sparse_tensor::Merger::getLvl</a></div><div class="ttdeci">std::optional&lt; Level &gt; getLvl(TensorLoopId b) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00420">Merger.h:420</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a84aef1344a5159a4566e9c9a983c4148"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a84aef1344a5159a4566e9c9a983c4148">mlir::sparse_tensor::Merger::set</a></div><div class="ttdeci">ArrayRef&lt; LatPointId &gt; set(LatSetId s) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00549">Merger.h:549</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_a8dbc59b5e321a4ebea4fea6bc0c592b4"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#a8dbc59b5e321a4ebea4fea6bc0c592b4">mlir::sparse_tensor::Merger::optimizeSet</a></div><div class="ttdeci">LatSetId optimizeSet(LatSetId s)</div><div class="ttdoc">Optimizes the iteration lattice points in the given set.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00431">Merger.cpp:431</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aa3d03ba466d64d9b35ec3099db665191"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aa3d03ba466d64d9b35ec3099db665191">mlir::sparse_tensor::Merger::tensor</a></div><div class="ttdeci">constexpr TensorId tensor(TensorLoopId b) const</div><div class="ttdoc">Gets the tensor-identifier of the TensorLoopId.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00346">Merger.h:346</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aa67917d89b5613f71394d78b629d5cc1"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aa67917d89b5613f71394d78b629d5cc1">mlir::sparse_tensor::Merger::setLoopDependentTensorLevel</a></div><div class="ttdeci">void setLoopDependentTensorLevel(LoopId i, TensorId t, Level lvl, LevelType lt, unsigned coefficient)</div><div class="ttdoc">Establishes the two-way map that i &lt;-&gt; &lt;t, lvl, lt&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00472">Merger.h:472</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aa6f869e51177cf11e5e2f24ea369be6f"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aa6f869e51177cf11e5e2f24ea369be6f">mlir::sparse_tensor::Merger::dumpExp</a></div><div class="ttdeci">void dumpExp(ExprId e) const</div><div class="ttdoc">Print methods (for debugging).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00799">Merger.cpp:799</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ab18e8fa645964482d150634e1937d7b8"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ab18e8fa645964482d150634e1937d7b8">mlir::sparse_tensor::Merger::getLvlType</a></div><div class="ttdeci">LevelType getLvlType(TensorLoopId b) const</div><div class="ttdoc">Gets the level-type of the TensorLoopId.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00405">Merger.h:405</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_abef0256a925ae21538ed0227bd8f67cc"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#abef0256a925ae21538ed0227bd8f67cc">mlir::sparse_tensor::Merger::Merger</a></div><div class="ttdeci">Merger(unsigned numInputOutputTensors, unsigned numLoops, unsigned maxLvlRank)</div><div class="ttdoc">Constructs a merger for the given number of tensors and loops.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00224">Merger.cpp:224</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ac101290f206fb2fb2af7370d44d960bb"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ac101290f206fb2fb2af7370d44d960bb">mlir::sparse_tensor::Merger::hasAnySparse</a></div><div class="ttdeci">bool hasAnySparse(const BitVector &amp;bits) const</div><div class="ttdoc">Returns true if any TensorLoopId in the bitvector corresponds to sparse level-type.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00671">Merger.cpp:671</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ac4e7f3fa50bbf60e4cd3267587c1d9e2"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ac4e7f3fa50bbf60e4cd3267587c1d9e2">mlir::sparse_tensor::Merger::clearExprValue</a></div><div class="ttdeci">void clearExprValue(ExprId e)</div><div class="ttdoc">Clears the value associated with the expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00567">Merger.h:567</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ac635c5ab78aa810d9be7468c6b7ec361"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ac635c5ab78aa810d9be7468c6b7ec361">mlir::sparse_tensor::Merger::getDependentLoops</a></div><div class="ttdeci">std::vector&lt; LoopCoeffPair &gt; &amp; getDependentLoops(TensorId t, Level lvl)</div><div class="ttdoc">Returns the list of loop indices which appear in the non-trivial index expression on t_l,...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00488">Merger.h:488</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ac6af13ad076c74bea2d70932e92dcdd9"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ac6af13ad076c74bea2d70932e92dcdd9">mlir::sparse_tensor::Merger::addLat</a></div><div class="ttdeci">LatPointId addLat(TensorId t, LoopId i, ExprId e)</div><div class="ttdoc">Constructs a new iteration lattice point, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00293">Merger.cpp:293</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aceda245a422b45b5ba46630409db8e28"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aceda245a422b45b5ba46630409db8e28">mlir::sparse_tensor::Merger::addLoopVarExp</a></div><div class="ttdeci">ExprId addLoopVarExp(LoopId i)</div><div class="ttdoc">Constructs a new loop-variable expression, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00255">Merger.cpp:255</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ad18eee8a15dc2a6525ca1b247c9573dc"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ad18eee8a15dc2a6525ca1b247c9573dc">mlir::sparse_tensor::Merger::getSynTensorID</a></div><div class="ttdeci">constexpr TensorId getSynTensorID() const</div><div class="ttdoc">Gets the synthetic tensor's identifier (used for all invariant tensor expressions).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00367">Merger.h:367</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ad1987cef7c6bff1fe5732c000920f8a0"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ad1987cef7c6bff1fe5732c000920f8a0">mlir::sparse_tensor::Merger::latGT</a></div><div class="ttdeci">bool latGT(LatPointId p0, LatPointId p1) const</div><div class="ttdoc">Returns true if p0 &gt; p1.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00503">Merger.cpp:503</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ad374338b180f303ade6e353d510d4af6"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ad374338b180f303ade6e353d510d4af6">mlir::sparse_tensor::Merger::exp</a></div><div class="ttdeci">const TensorExp &amp; exp(ExprId e) const</div><div class="ttdoc">Convenience getters to immediately access the stored nodes.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00541">Merger.h:541</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ad9ad9fcff7f185500e9384919260e7cb"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ad9ad9fcff7f185500e9384919260e7cb">mlir::sparse_tensor::Merger::loop</a></div><div class="ttdeci">constexpr LoopId loop(TensorLoopId b) const</div><div class="ttdoc">Gets the loop-identifier of the TensorLoopId.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00348">Merger.h:348</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_adab36d6fab4b26574308133668b25c68"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#adab36d6fab4b26574308133668b25c68">mlir::sparse_tensor::Merger::lat</a></div><div class="ttdeci">const LatPoint &amp; lat(LatPointId p) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00545">Merger.h:545</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ae75ad5afa447295cf7b2f2f09cc0fd89"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ae75ad5afa447295cf7b2f2f09cc0fd89">mlir::sparse_tensor::Merger::getOutTensorID</a></div><div class="ttdeci">constexpr TensorId getOutTensorID() const</div><div class="ttdoc">Gets the output tensor's identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00363">Merger.h:363</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ae76fe4e1ba5932cba5ad49acee2a8038"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ae76fe4e1ba5932cba5ad49acee2a8038">mlir::sparse_tensor::Merger::onlyDenseDiff</a></div><div class="ttdeci">bool onlyDenseDiff(LatPointId p0, LatPointId p1) const</div><div class="ttdoc">Returns true if p0 and p1 only differ in dense.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00516">Merger.cpp:516</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_ae78a9ed4c1e9a1d381f1da432d256e26"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#ae78a9ed4c1e9a1d381f1da432d256e26">mlir::sparse_tensor::Merger::addInvariantExp</a></div><div class="ttdeci">ExprId addInvariantExp(Value v)</div><div class="ttdoc">Constructs a new invariant expression, and returns its identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00263">Merger.cpp:263</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aeb797e70b6058a9cae7a388774dd40d5"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aeb797e70b6058a9cae7a388774dd40d5">mlir::sparse_tensor::Merger::makeTensorId</a></div><div class="ttdeci">constexpr TensorId makeTensorId(unsigned t) const</div><div class="ttdoc">Safely converts the argument to a tensor identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00243">Merger.h:243</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aec484ee0fdbfba530179ad4910665071"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aec484ee0fdbfba530179ad4910665071">mlir::sparse_tensor::Merger::getLoopDependentLevelType</a></div><div class="ttdeci">LevelType getLoopDependentLevelType(TensorLoopId b) const</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00523">Merger.h:523</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_aeddadbbafcc6849382f1dfc700dbe6f5"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#aeddadbbafcc6849382f1dfc700dbe6f5">mlir::sparse_tensor::Merger::getLvlType</a></div><div class="ttdeci">LevelType getLvlType(TensorId t, LoopId i) const</div><div class="ttdoc">Gets the level-type of the tth tensor on ith loop.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00399">Merger.h:399</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_af4078635c6861d80acf1385f1f0e960b"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#af4078635c6861d80acf1385f1f0e960b">mlir::sparse_tensor::Merger::buildExp</a></div><div class="ttdeci">Value buildExp(RewriterBase &amp;rewriter, Location loc, ExprId e, Value v0, Value v1) const</div><div class="ttdoc">Rebuilds SSA format from a tensor expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l01618">Merger.cpp:1618</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_af6d0df0a35a3a09e3e646fca3af516d0"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#af6d0df0a35a3a09e3e646fca3af516d0">mlir::sparse_tensor::Merger::makeTensorLoopId</a></div><div class="ttdeci">constexpr TensorLoopId makeTensorLoopId(unsigned t, unsigned i) const</div><div class="ttdoc">Safely converts the arguments to a pair of (tensor,loop) identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00255">Merger.h:255</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_af8567c5bdfc3cf1691c39efaa3bfb68f"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#af8567c5bdfc3cf1691c39efaa3bfb68f">mlir::sparse_tensor::Merger::expIsTensor</a></div><div class="ttdeci">bool expIsTensor(ExprId e, TensorId t) const</div><div class="ttdoc">Returns true if the expression is (kTensor t).</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00370">Merger.h:370</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_af98612b2c27acf7213211e659e4fe331"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#af98612b2c27acf7213211e659e4fe331">mlir::sparse_tensor::Merger::setExprValue</a></div><div class="ttdeci">void setExprValue(ExprId e, Value v)</div><div class="ttdoc">Sets the expression to have the associated value.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00559">Merger.h:559</a></div></div>
<div class="ttc" id="aclassmlir_1_1sparse__tensor_1_1Merger_html_afd042fcac8ed6191c782584b3138cba1"><div class="ttname"><a href="classmlir_1_1sparse__tensor_1_1Merger.html#afd042fcac8ed6191c782584b3138cba1">mlir::sparse_tensor::Merger::hasDependentLvl</a></div><div class="ttdeci">bool hasDependentLvl(LoopId i, TensorId t)</div><div class="ttdoc">Whether the loop has dependent slice.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00481">Merger.h:481</a></div></div>
<div class="ttc" id="amlir_2Dialect_2Linalg_2IR_2Linalg_8h_html"><div class="ttname"><a href="mlir_2Dialect_2Linalg_2IR_2Linalg_8h.html">Linalg.h</a></div></div>
<div class="ttc" id="amlir_2Dialect_2SparseTensor_2IR_2SparseTensor_8h_html"><div class="ttname"><a href="mlir_2Dialect_2SparseTensor_2IR_2SparseTensor_8h.html">SparseTensor.h</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_1_1detail_html_a0f70d8f158425f97ffcbb5149f2ddea6"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor_1_1detail.html#a0f70d8f158425f97ffcbb5149f2ddea6">mlir::sparse_tensor::detail::kInvalidId</a></div><div class="ttdeci">static constexpr unsigned kInvalidId</div><div class="ttdoc">A constant serving as the canonically invalid identifier, regardless of the identifier type.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00030">Merger.h:30</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_a239a5147e6161187ab95eb12ade8b9b9"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#a239a5147e6161187ab95eb12ade8b9b9">mlir::sparse_tensor::LatSetId</a></div><div class="ttdeci">unsigned LatSetId</div><div class="ttdoc">LatSet identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00057">Merger.h:57</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_a39741feaf66081c965556ade16561e69"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#a39741feaf66081c965556ade16561e69">mlir::sparse_tensor::LvlLTPair</a></div><div class="ttdeci">std::pair&lt; Level, LevelType &gt; LvlLTPair</div><div class="ttdoc">A pair of level and its corresponding LevelType of a tensor.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00060">Merger.h:60</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_a3e5ba2973449a7844b183fd38fadd9e2"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#a3e5ba2973449a7844b183fd38fadd9e2">mlir::sparse_tensor::TensorLoopId</a></div><div class="ttdeci">unsigned TensorLoopId</div><div class="ttdoc">A compressed representation of std::pair&lt;TensorId, LoopId&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00044">Merger.h:44</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_a4eeeb1242c0500476bf0e6b6da6a30e2"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#a4eeeb1242c0500476bf0e6b6da6a30e2">mlir::sparse_tensor::Level</a></div><div class="ttdeci">uint64_t Level</div><div class="ttdoc">The type of level identifiers and level-ranks.</div><div class="ttdef"><b>Definition:</b> <a href="mlir_2Dialect_2SparseTensor_2IR_2SparseTensor_8h_source.html#l00042">SparseTensor.h:42</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_a5afbd09442c98d47016972f71aa6a75d"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#a5afbd09442c98d47016972f71aa6a75d">mlir::sparse_tensor::LoopId</a></div><div class="ttdeci">unsigned LoopId</div><div class="ttdoc">Loop identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00038">Merger.h:38</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_ab94794453c12889554edeaee94f50b07"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#ab94794453c12889554edeaee94f50b07">mlir::sparse_tensor::isValidLT</a></div><div class="ttdeci">bool isValidLT(LevelType lt)</div><div class="ttdef"><b>Definition:</b> <a href="Enums_8h_source.html#l00433">Enums.h:433</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_adc4c45d33b8ba0681fa621d5cd36a111"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#adc4c45d33b8ba0681fa621d5cd36a111">mlir::sparse_tensor::ExprId</a></div><div class="ttdeci">unsigned ExprId</div><div class="ttdoc">TensorExp identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00048">Merger.h:48</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_aefb03d5cb7578cfcc334baa1558bdaeb"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#aefb03d5cb7578cfcc334baa1558bdaeb">mlir::sparse_tensor::LatPointId</a></div><div class="ttdeci">unsigned LatPointId</div><div class="ttdoc">LatPoint identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00052">Merger.h:52</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_afb499a334166501c5e841475a8d07843"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#afb499a334166501c5e841475a8d07843">mlir::sparse_tensor::LoopCoeffPair</a></div><div class="ttdeci">std::pair&lt; LoopId, unsigned &gt; LoopCoeffPair</div><div class="ttdoc">A pair of loop id and its coefficients.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00064">Merger.h:64</a></div></div>
<div class="ttc" id="anamespacemlir_1_1sparse__tensor_html_afcb3f64b1d7ce91bc0c0873d70cd21b3"><div class="ttname"><a href="namespacemlir_1_1sparse__tensor.html#afcb3f64b1d7ce91bc0c0873d70cd21b3">mlir::sparse_tensor::TensorId</a></div><div class="ttdeci">unsigned TensorId</div><div class="ttdoc">Tensor identifiers, chosen to be the BlockArgument::getArgNumber of the value passed to Merger::build...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00035">Merger.h:35</a></div></div>
<div class="ttc" id="anamespacemlir_html"><div class="ttname"><a href="namespacemlir.html">mlir</a></div><div class="ttdoc">Include the generated interface declarations.</div><div class="ttdef"><b>Definition:</b> <a href="LocalAliasAnalysis_8h_source.html#l00020">LocalAliasAnalysis.h:20</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html">mlir::sparse_tensor::LatPoint</a></div><div class="ttdoc">Lattice point.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00202">Merger.h:202</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html_a48ddf4e850d715b9b5bdaca09361d049"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a48ddf4e850d715b9b5bdaca09361d049">mlir::sparse_tensor::LatPoint::LatPoint</a></div><div class="ttdeci">LatPoint(const BitVector &amp;bits, ExprId e)</div><div class="ttdoc">Construct a lattice point from the given set of TensorLoopIds.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00207">Merger.h:207</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html_a761908a03d813a4c8b300e3b584f691c"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a761908a03d813a4c8b300e3b584f691c">mlir::sparse_tensor::LatPoint::exp</a></div><div class="ttdeci">ExprId exp</div><div class="ttdoc">Identifier of the tensor expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00218">Merger.h:218</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html_a7d5169510ba364931ebba1df1c477f58"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a7d5169510ba364931ebba1df1c477f58">mlir::sparse_tensor::LatPoint::bits</a></div><div class="ttdeci">BitVector bits</div><div class="ttdoc">Conjunction of all TensorLoopIds involved in the tensor expression.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00210">Merger.h:210</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html_a81e157dbe6505841d310e83f18d7cb09"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html#a81e157dbe6505841d310e83f18d7cb09">mlir::sparse_tensor::LatPoint::simple</a></div><div class="ttdeci">BitVector simple</div><div class="ttdoc">Simplified conjunction of TensorLoopId as bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00215">Merger.h:215</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LatPoint_html_acf36428725a53fcbcd70f27d3a661361"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LatPoint.html#acf36428725a53fcbcd70f27d3a661361">mlir::sparse_tensor::LatPoint::LatPoint</a></div><div class="ttdeci">LatPoint(unsigned size, ExprId e)</div><div class="ttdoc">Construct a lattice point with the empty set of TensorLoopIds.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00204">Merger.h:204</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1LevelType_html"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1LevelType.html">mlir::sparse_tensor::LevelType</a></div><div class="ttdoc">This enum defines all the sparse representations supportable by the SparseTensor dialect.</div><div class="ttdef"><b>Definition:</b> <a href="Enums_8h_source.html#l00238">Enums.h:238</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_1_1Children_html"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html">mlir::sparse_tensor::TensorExp::Children</a></div><div class="ttdoc">Child subexpressions for non-leaf expressions.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00071">Merger.h:71</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_1_1Children_html_a5204825192d2ae2078dc7614ad677466"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#a5204825192d2ae2078dc7614ad677466">mlir::sparse_tensor::TensorExp::Children::e1</a></div><div class="ttdeci">ExprId e1</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00073">Merger.h:73</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_1_1Children_html_ad98d9acaa210dcbc64f32d1967d59621"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp_1_1Children.html#ad98d9acaa210dcbc64f32d1967d59621">mlir::sparse_tensor::TensorExp::Children::e0</a></div><div class="ttdeci">ExprId e0</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00072">Merger.h:72</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html">mlir::sparse_tensor::TensorExp</a></div><div class="ttdoc">Tensor expression. Represents an MLIR expression in tensor index notation.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00067">Merger.h:67</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a2072239a0a8cdff703e5e6d1f0dbca36"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a2072239a0a8cdff703e5e6d1f0dbca36">mlir::sparse_tensor::TensorExp::loop</a></div><div class="ttdeci">LoopId loop</div><div class="ttdoc">kLoopVar expressions simply have a loop identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00096">Merger.h:96</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a44d3cc94ea4c0e89173177b47d0d836e"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a44d3cc94ea4c0e89173177b47d0d836e">mlir::sparse_tensor::TensorExp::val</a></div><div class="ttdeci">Value val</div><div class="ttdoc">Direct link to IR for an invariant or the destination value (to infer destination type) of a cast ope...</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00105">Merger.h:105</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2">mlir::sparse_tensor::TensorExp::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdoc">Tensor expression kind.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00129">Merger.h:129</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a001b6da62b5897ec4940277ed1e5d558"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a001b6da62b5897ec4940277ed1e5d558">mlir::sparse_tensor::TensorExp::Kind::kDivU</a></div><div class="ttdeci">@ kDivU</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a0140761008aa4bcb5d0504b5c26897d9"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0140761008aa4bcb5d0504b5c26897d9">mlir::sparse_tensor::TensorExp::Kind::kAbsF</a></div><div class="ttdeci">@ kAbsF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a0546107f60d608ed630df13b8c5e2849"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0546107f60d608ed630df13b8c5e2849">mlir::sparse_tensor::TensorExp::Kind::kCastFU</a></div><div class="ttdeci">@ kCastFU</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a067892a9ea619b2c378e06000c9763af"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a067892a9ea619b2c378e06000c9763af">mlir::sparse_tensor::TensorExp::Kind::kRelu</a></div><div class="ttdeci">@ kRelu</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a0dbd1d9f37b3d3ee31e609f0653cf6d2"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0dbd1d9f37b3d3ee31e609f0653cf6d2">mlir::sparse_tensor::TensorExp::Kind::kTanhC</a></div><div class="ttdeci">@ kTanhC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a0f74d4695fd4cccbe4380a5fcf6f8cc0"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a0f74d4695fd4cccbe4380a5fcf6f8cc0">mlir::sparse_tensor::TensorExp::Kind::kSelect</a></div><div class="ttdeci">@ kSelect</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a12f121e02ef3c94b3236aa646fb5b391"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a12f121e02ef3c94b3236aa646fb5b391">mlir::sparse_tensor::TensorExp::Kind::kCeilF</a></div><div class="ttdeci">@ kCeilF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a1470c8db6aae5a3a90dd293ae7e85df3"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1470c8db6aae5a3a90dd293ae7e85df3">mlir::sparse_tensor::TensorExp::Kind::kDenseOp</a></div><div class="ttdeci">@ kDenseOp</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a1785404c3271ff2fdc8a6a6eb990a823"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1785404c3271ff2fdc8a6a6eb990a823">mlir::sparse_tensor::TensorExp::Kind::kCastU</a></div><div class="ttdeci">@ kCastU</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a1810b6e4bdf4dfdd6151ef365a5ec519"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1810b6e4bdf4dfdd6151ef365a5ec519">mlir::sparse_tensor::TensorExp::Kind::kCastFS</a></div><div class="ttdeci">@ kCastFS</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a1cb00d894f747c378a4a703116318141"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a1cb00d894f747c378a4a703116318141">mlir::sparse_tensor::TensorExp::Kind::kCRe</a></div><div class="ttdeci">@ kCRe</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a212f9f34e4e151a9ba569c71e1aace47"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a212f9f34e4e151a9ba569c71e1aace47">mlir::sparse_tensor::TensorExp::Kind::kBinary</a></div><div class="ttdeci">@ kBinary</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a25225e5d189132cdcd8703845ff4b1be"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a25225e5d189132cdcd8703845ff4b1be">mlir::sparse_tensor::TensorExp::Kind::kSynZero</a></div><div class="ttdeci">@ kSynZero</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a2bef5cad8b3b8c7c46d7d7c8230df1e4"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a2bef5cad8b3b8c7c46d7d7c8230df1e4">mlir::sparse_tensor::TensorExp::Kind::kShlI</a></div><div class="ttdeci">@ kShlI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a2c278af8d867685a35766510bdca6cd1"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a2c278af8d867685a35766510bdca6cd1">mlir::sparse_tensor::TensorExp::Kind::kXorI</a></div><div class="ttdeci">@ kXorI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a34fa5f73772dbc3eb8951d3edc5beca0"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a34fa5f73772dbc3eb8951d3edc5beca0">mlir::sparse_tensor::TensorExp::Kind::kMulI</a></div><div class="ttdeci">@ kMulI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a3c8d4c9e95f6c5516e0605edfba383e7"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a3c8d4c9e95f6c5516e0605edfba383e7">mlir::sparse_tensor::TensorExp::Kind::kDivS</a></div><div class="ttdeci">@ kDivS</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a4123acc86a04f109c4b8a1dfd786f468"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a4123acc86a04f109c4b8a1dfd786f468">mlir::sparse_tensor::TensorExp::Kind::kSinF</a></div><div class="ttdeci">@ kSinF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a42f0e22bca2b524acab971a18855063b"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a42f0e22bca2b524acab971a18855063b">mlir::sparse_tensor::TensorExp::Kind::kAddC</a></div><div class="ttdeci">@ kAddC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a44262931caed2d8a93ce2dd388b92bbd"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a44262931caed2d8a93ce2dd388b92bbd">mlir::sparse_tensor::TensorExp::Kind::kBitCast</a></div><div class="ttdeci">@ kBitCast</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a45c6f4db4d1ec40da6b671bd4d492d46"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a45c6f4db4d1ec40da6b671bd4d492d46">mlir::sparse_tensor::TensorExp::Kind::kAbsI</a></div><div class="ttdeci">@ kAbsI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a47761edcf03c993b1493086ba8693a7c"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a47761edcf03c993b1493086ba8693a7c">mlir::sparse_tensor::TensorExp::Kind::kMulC</a></div><div class="ttdeci">@ kMulC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a481917447b37d2e963702755ad923c16"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a481917447b37d2e963702755ad923c16">mlir::sparse_tensor::TensorExp::Kind::kCmpI</a></div><div class="ttdeci">@ kCmpI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a48f2000e92ccd40e0946f6f22a12a3ea"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a48f2000e92ccd40e0946f6f22a12a3ea">mlir::sparse_tensor::TensorExp::Kind::kCmpF</a></div><div class="ttdeci">@ kCmpF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a49ccc5320d8840ad6eea15eced2d0b19"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a49ccc5320d8840ad6eea15eced2d0b19">mlir::sparse_tensor::TensorExp::Kind::kSinC</a></div><div class="ttdeci">@ kSinC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a4e57677b3458991c72e298e58d4a9304"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a4e57677b3458991c72e298e58d4a9304">mlir::sparse_tensor::TensorExp::Kind::kShrS</a></div><div class="ttdeci">@ kShrS</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a5203b9b81718041478f5c20542c3524a"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a5203b9b81718041478f5c20542c3524a">mlir::sparse_tensor::TensorExp::Kind::kSubF</a></div><div class="ttdeci">@ kSubF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a5c49fa133caef755470eb028f50a97be"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a5c49fa133caef755470eb028f50a97be">mlir::sparse_tensor::TensorExp::Kind::kTruncI</a></div><div class="ttdeci">@ kTruncI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a63073588b9e5f41c1c95c9d029da4816"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a63073588b9e5f41c1c95c9d029da4816">mlir::sparse_tensor::TensorExp::Kind::kNegF</a></div><div class="ttdeci">@ kNegF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a722b6b197ad326f5acf57367bad0e0f3"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a722b6b197ad326f5acf57367bad0e0f3">mlir::sparse_tensor::TensorExp::Kind::kCastS</a></div><div class="ttdeci">@ kCastS</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a72706fc44467a7901716f03f48125d4f"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a72706fc44467a7901716f03f48125d4f">mlir::sparse_tensor::TensorExp::Kind::kSubI</a></div><div class="ttdeci">@ kSubI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a7323b0c2eca65bea3e4ebaf6810b3f46"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7323b0c2eca65bea3e4ebaf6810b3f46">mlir::sparse_tensor::TensorExp::Kind::kTensor</a></div><div class="ttdeci">@ kTensor</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a7774eadbb2e71085823eb37476c181f0"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7774eadbb2e71085823eb37476c181f0">mlir::sparse_tensor::TensorExp::Kind::kReduce</a></div><div class="ttdeci">@ kReduce</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a7c364633781ea83332037381f13dafe6"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7c364633781ea83332037381f13dafe6">mlir::sparse_tensor::TensorExp::Kind::kCIm</a></div><div class="ttdeci">@ kCIm</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a7eaa1b378656b37ef145e184c09afa84"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a7eaa1b378656b37ef145e184c09afa84">mlir::sparse_tensor::TensorExp::Kind::kUnary</a></div><div class="ttdeci">@ kUnary</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a8023736aba84e539b455adc7f0923f17"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8023736aba84e539b455adc7f0923f17">mlir::sparse_tensor::TensorExp::Kind::kDivF</a></div><div class="ttdeci">@ kDivF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a8533d61c571a222f482ba0ca322b5ae8"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8533d61c571a222f482ba0ca322b5ae8">mlir::sparse_tensor::TensorExp::Kind::kAndI</a></div><div class="ttdeci">@ kAndI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a8d0272ad5c423ae205b7753d6db0a34a"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a8d0272ad5c423ae205b7753d6db0a34a">mlir::sparse_tensor::TensorExp::Kind::kExtF</a></div><div class="ttdeci">@ kExtF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a9401b7030add4be9f967cce2764d17f8"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a9401b7030add4be9f967cce2764d17f8">mlir::sparse_tensor::TensorExp::Kind::kSubC</a></div><div class="ttdeci">@ kSubC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2a95de4fb1b58049039974ecd82283007c"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2a95de4fb1b58049039974ecd82283007c">mlir::sparse_tensor::TensorExp::Kind::kShrU</a></div><div class="ttdeci">@ kShrU</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2aa90f91c68e03fea94310d71cb65bd4dd"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2aa90f91c68e03fea94310d71cb65bd4dd">mlir::sparse_tensor::TensorExp::Kind::kSqrtF</a></div><div class="ttdeci">@ kSqrtF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2aacadb5440dede58127c425929f0cb183"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2aacadb5440dede58127c425929f0cb183">mlir::sparse_tensor::TensorExp::Kind::kLog1pF</a></div><div class="ttdeci">@ kLog1pF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ab17ca7fbecdca674a9df1586e06b67c6"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab17ca7fbecdca674a9df1586e06b67c6">mlir::sparse_tensor::TensorExp::Kind::kTruncF</a></div><div class="ttdeci">@ kTruncF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ab727defa95bb8a036bb637518ed64e4a"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab727defa95bb8a036bb637518ed64e4a">mlir::sparse_tensor::TensorExp::Kind::kCastUF</a></div><div class="ttdeci">@ kCastUF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ab85e4d81f589e2adf797c5ca899130d6"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ab85e4d81f589e2adf797c5ca899130d6">mlir::sparse_tensor::TensorExp::Kind::kFloorF</a></div><div class="ttdeci">@ kFloorF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2abe09fb831a938fc2de10a6d7bee78315"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2abe09fb831a938fc2de10a6d7bee78315">mlir::sparse_tensor::TensorExp::Kind::kLoopVar</a></div><div class="ttdeci">@ kLoopVar</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2abfd4b7df606bfcbbaced63a2b3dcde60"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2abfd4b7df606bfcbbaced63a2b3dcde60">mlir::sparse_tensor::TensorExp::Kind::kInvariant</a></div><div class="ttdeci">@ kInvariant</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ac3422a0d0554ae25a68869dfafb0a0ca"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ac3422a0d0554ae25a68869dfafb0a0ca">mlir::sparse_tensor::TensorExp::Kind::kExpm1C</a></div><div class="ttdeci">@ kExpm1C</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2acc9208b813fc8c189c7e566912846a78"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2acc9208b813fc8c189c7e566912846a78">mlir::sparse_tensor::TensorExp::Kind::kCastSF</a></div><div class="ttdeci">@ kCastSF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2acfe442f120aecbc174b2253565c3b3d7"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2acfe442f120aecbc174b2253565c3b3d7">mlir::sparse_tensor::TensorExp::Kind::kDivC</a></div><div class="ttdeci">@ kDivC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ad4712ca3bcb6aefad117c8fe092f9854"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad4712ca3bcb6aefad117c8fe092f9854">mlir::sparse_tensor::TensorExp::Kind::kCastIdx</a></div><div class="ttdeci">@ kCastIdx</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ad4c582ed477b8e2a26d2e0fa179b7a1c"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad4c582ed477b8e2a26d2e0fa179b7a1c">mlir::sparse_tensor::TensorExp::Kind::kBinaryBranch</a></div><div class="ttdeci">@ kBinaryBranch</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ad6d33541f900771ea244159bd3058ab1"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad6d33541f900771ea244159bd3058ab1">mlir::sparse_tensor::TensorExp::Kind::kAddF</a></div><div class="ttdeci">@ kAddF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ad7b08d78253c61d68820ffbe62d30c85"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ad7b08d78253c61d68820ffbe62d30c85">mlir::sparse_tensor::TensorExp::Kind::kMulF</a></div><div class="ttdeci">@ kMulF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ae0a34aec7a2d1a09d4bf852aae9a2097"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae0a34aec7a2d1a09d4bf852aae9a2097">mlir::sparse_tensor::TensorExp::Kind::kSqrtC</a></div><div class="ttdeci">@ kSqrtC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ae0d15b2bc2a19ae088c24c8b9c56314f"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae0d15b2bc2a19ae088c24c8b9c56314f">mlir::sparse_tensor::TensorExp::Kind::kAbsC</a></div><div class="ttdeci">@ kAbsC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ae35ef2fcdf816e08871a876c814c1dbb"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae35ef2fcdf816e08871a876c814c1dbb">mlir::sparse_tensor::TensorExp::Kind::kTanhF</a></div><div class="ttdeci">@ kTanhF</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2ae779e77a4e8ea777d58e031e6236cc34"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2ae779e77a4e8ea777d58e031e6236cc34">mlir::sparse_tensor::TensorExp::Kind::kExpm1F</a></div><div class="ttdeci">@ kExpm1F</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2af0a34d6e52f73aac67bbde9bbf6530fa"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af0a34d6e52f73aac67bbde9bbf6530fa">mlir::sparse_tensor::TensorExp::Kind::kOrI</a></div><div class="ttdeci">@ kOrI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2af6415d6520b675349bbff949b5e39ee2"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af6415d6520b675349bbff949b5e39ee2">mlir::sparse_tensor::TensorExp::Kind::kNegI</a></div><div class="ttdeci">@ kNegI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2af648a52d693b6ab00ea52709d578a16a"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af648a52d693b6ab00ea52709d578a16a">mlir::sparse_tensor::TensorExp::Kind::kAddI</a></div><div class="ttdeci">@ kAddI</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2af82d9e28b4152ef30727146589a37eab"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2af82d9e28b4152ef30727146589a37eab">mlir::sparse_tensor::TensorExp::Kind::kNegC</a></div><div class="ttdeci">@ kNegC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a472d6f4845e22c608360bc5ce67799f2afe0c311886ab167b7e16b5830aebb09b"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a472d6f4845e22c608360bc5ce67799f2afe0c311886ab167b7e16b5830aebb09b">mlir::sparse_tensor::TensorExp::Kind::kLog1pC</a></div><div class="ttdeci">@ kLog1pC</div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a6552737dcc2467998be73b26d8077cdf"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a6552737dcc2467998be73b26d8077cdf">mlir::sparse_tensor::TensorExp::children</a></div><div class="ttdeci">Children children</div><div class="ttdoc">All other expressions hold the ExprIds of their children.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00099">Merger.h:99</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a73d62b0398ff9bb877fd21005156cbfd"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a73d62b0398ff9bb877fd21005156cbfd">mlir::sparse_tensor::TensorExp::attr</a></div><div class="ttdeci">Attribute attr</div><div class="ttdoc">An optional attribute that is required to determine the semantics of the operations.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00118">Merger.h:118</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a8c89cfea757925297d494e8dc102cc51"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a8c89cfea757925297d494e8dc102cc51">mlir::sparse_tensor::TensorExp::tensor</a></div><div class="ttdeci">TensorId tensor</div><div class="ttdoc">kTensor expressions simply have a tensor identifier.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00093">Merger.h:93</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_a944102e3a05a7a489455848bdfb05cc4"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#a944102e3a05a7a489455848bdfb05cc4">mlir::sparse_tensor::TensorExp::kind</a></div><div class="ttdeci">Kind kind</div><div class="ttdoc">Tensor expression kind.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00089">Merger.h:89</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_aed1ca847e35b5b9d5d30140e6c29c9bc"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aed1ca847e35b5b9d5d30140e6c29c9bc">mlir::sparse_tensor::TensorExp::op</a></div><div class="ttdeci">Operation * op</div><div class="ttdoc">Code blocks used by semirings.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8h_source.html#l00114">Merger.h:114</a></div></div>
<div class="ttc" id="astructmlir_1_1sparse__tensor_1_1TensorExp_html_aedfb8672759e7da1331afda1a5e5451a"><div class="ttname"><a href="structmlir_1_1sparse__tensor_1_1TensorExp.html#aedfb8672759e7da1331afda1a5e5451a">mlir::sparse_tensor::TensorExp::TensorExp</a></div><div class="ttdeci">TensorExp(Kind k, unsigned x, ExprId y, Value v, Operation *op, Attribute a)</div><div class="ttdoc">The x parameter has different types depending on the value of the k parameter.</div><div class="ttdef"><b>Definition:</b> <a href="Merger_8cpp_source.html#l00106">Merger.cpp:106</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Sep 27 2025 16:32:31 for MLIR by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
