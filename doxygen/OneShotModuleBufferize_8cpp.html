<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Dialect/Bufferization/Transforms/OneShotModuleBufferize.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MLIR<span id="projectnumber">&#160;22.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a href="dir_1a25ec519b6c1121408b67cc33ce3f15.html">Dialect</a></li><li class="navelem"><a href="dir_556cbcf41dc9f6a4cebed138b2acfeaf.html">Bufferization</a></li><li class="navelem"><a href="dir_6a00c96d3d316031f3639df96a4a4a79.html">Transforms</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">OneShotModuleBufferize.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="OneShotModuleBufferize_8h_source.html">mlir/Dialect/Bufferization/Transforms/OneShotModuleBufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="BufferizableOpInterface_8h_source.html">mlir/Dialect/Bufferization/IR/BufferizableOpInterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferization_8h_source.html">mlir/Dialect/Bufferization/IR/Bufferization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Bufferize_8h_source.html">mlir/Dialect/Bufferization/Transforms/Bufferize.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FuncBufferizableOpInterfaceImpl_8h_source.html">mlir/Dialect/Bufferization/Transforms/FuncBufferizableOpInterfaceImpl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="OneShotAnalysis_8h_source.html">mlir/Dialect/Bufferization/Transforms/OneShotAnalysis.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2Dialect_2Bufferization_2Transforms_2Transforms_8h_source.html">mlir/Dialect/Bufferization/Transforms/Transforms.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="FuncOps_8h_source.html">mlir/Dialect/Func/IR/FuncOps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2Dialect_2MemRef_2IR_2MemRef_8h_source.html">mlir/Dialect/MemRef/IR/MemRef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2IR_2BuiltinTypes_8h_source.html">mlir/IR/BuiltinTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="IR_2Operation_8h_source.html">mlir/IR/Operation.h</a>&quot;</code><br />
</div>
<p><a href="OneShotModuleBufferize_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a024323a29fbc91e296d99edf9b7e6e77" id="r_a024323a29fbc91e296d99edf9b7e6e77"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a024323a29fbc91e296d99edf9b7e6e77">FuncCallerMap</a> = <a class="el" href="namespacemlir.html#abde461319ad5039ddbf5b4e70f47618b">DenseMap</a>&lt;func::FuncOp, <a class="el" href="namespacemlir.html#a4aa33aa05f4fcff8a40613b43fb06f01">DenseSet</a>&lt;<a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt;</td></tr>
<tr class="memdesc:a024323a29fbc91e296d99edf9b7e6e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">A mapping of FuncOps to their callers.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a07285e7428270bbcbdff7ccac06ec64f" id="r_a07285e7428270bbcbdff7ccac06ec64f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a07285e7428270bbcbdff7ccac06ec64f">getOrCreateFuncAnalysisState</a> (<a class="el" href="classmlir_1_1bufferization_1_1OneShotAnalysisState.html">OneShotAnalysisState</a> &amp;state)</td></tr>
<tr class="memdesc:a07285e7428270bbcbdff7ccac06ec64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get or create <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html" title="Extra analysis state that is required for bufferization of function boundaries.">FuncAnalysisState</a>.  <br /></td></tr>
<tr class="memitem:a799129c21d19fec1fa27e9c4b2e208d5" id="r_a799129c21d19fec1fa27e9c4b2e208d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a799129c21d19fec1fa27e9c4b2e208d5">removeBufferizationAttributes</a> (<a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a> bbArg)</td></tr>
<tr class="memdesc:a799129c21d19fec1fa27e9c4b2e208d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove bufferization attributes on FuncOp arguments.  <br /></td></tr>
<tr class="memitem:a89518abad2193651fdfe40b18ff2d95f" id="r_a89518abad2193651fdfe40b18ff2d95f"><td class="memItemLeft" align="right" valign="top">static func::FuncOp&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89518abad2193651fdfe40b18ff2d95f">getCalledFunction</a> (func::CallOp callOp, <a class="el" href="classmlir_1_1SymbolTableCollection.html">mlir::SymbolTableCollection</a> &amp;symbolTable)</td></tr>
<tr class="memdesc:a89518abad2193651fdfe40b18ff2d95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the func::FuncOp called by <span class="tt">callOp</span>.  <br /></td></tr>
<tr class="memitem:a32f1d896d748bea16861d3ec0f41ec51" id="r_a32f1d896d748bea16861d3ec0f41ec51"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32f1d896d748bea16861d3ec0f41ec51">hasTensorSignature</a> (func::FuncOp funcOp)</td></tr>
<tr class="memdesc:a32f1d896d748bea16861d3ec0f41ec51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return "true" if the given function signature has tensor semantics.  <br /></td></tr>
<tr class="memitem:add006f32756e04e10152350a9cf8c395" id="r_add006f32756e04e10152350a9cf8c395"><td class="memItemLeft" align="right" valign="top">static LogicalResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add006f32756e04e10152350a9cf8c395">getFuncOpsOrderedByCalls</a> (<a class="el" href="classmlir_1_1Operation.html">Operation</a> *moduleOp, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;orderedFuncOps, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;remainingFuncOps, <a class="el" href="#a024323a29fbc91e296d99edf9b7e6e77">FuncCallerMap</a> &amp;callerMap, <a class="el" href="classmlir_1_1SymbolTableCollection.html">SymbolTableCollection</a> &amp;symbolTables)</td></tr>
<tr class="memdesc:add006f32756e04e10152350a9cf8c395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store all functions of the <span class="tt">moduleOp</span> in <span class="tt">orderedFuncOps</span>, sorted by callee-caller order (i.e., callees without callers first).  <br /></td></tr>
<tr class="memitem:aa74b0551c1427c799a60e01c3d346799" id="r_aa74b0551c1427c799a60e01c3d346799"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa74b0551c1427c799a60e01c3d346799">unpackCast</a> (<a class="el" href="classmlir_1_1Value.html">Value</a> v)</td></tr>
<tr class="memdesc:aa74b0551c1427c799a60e01c3d346799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that extracts the source from a memref.cast.  <br /></td></tr>
<tr class="memitem:a03cec73dcc0fd13e4c94b48a0e52d4d5" id="r_a03cec73dcc0fd13e4c94b48a0e52d4d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Type.html">Type</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03cec73dcc0fd13e4c94b48a0e52d4d5">getReturnTypes</a> (<a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; func::ReturnOp &gt; returnOps)</td></tr>
<tr class="memdesc:a03cec73dcc0fd13e4c94b48a0e52d4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function that returns the return types (skipping casts) of the given func.return ops.  <br /></td></tr>
<tr class="memitem:a9e7d307125d0ff2f82216954a2372950" id="r_a9e7d307125d0ff2f82216954a2372950"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoid.html">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e7d307125d0ff2f82216954a2372950">foldMemRefCasts</a> (func::FuncOp funcOp)</td></tr>
<tr class="memdesc:a9e7d307125d0ff2f82216954a2372950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fold return values that are memref casts and update function return types.  <br /></td></tr>
</table>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a024323a29fbc91e296d99edf9b7e6e77" name="a024323a29fbc91e296d99edf9b7e6e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024323a29fbc91e296d99edf9b7e6e77">&#9670;&#160;</a></span>FuncCallerMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a024323a29fbc91e296d99edf9b7e6e77">FuncCallerMap</a> = <a class="el" href="namespacemlir.html#abde461319ad5039ddbf5b4e70f47618b">DenseMap</a>&lt;func::FuncOp, <a class="el" href="namespacemlir.html#a4aa33aa05f4fcff8a40613b43fb06f01">DenseSet</a>&lt;<a class="el" href="classmlir_1_1Operation.html">Operation</a> *&gt;&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A mapping of FuncOps to their callers. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00080">80</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a9e7d307125d0ff2f82216954a2372950" name="a9e7d307125d0ff2f82216954a2372950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7d307125d0ff2f82216954a2372950">&#9670;&#160;</a></span>foldMemRefCasts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvoid.html">void</a> foldMemRefCasts </td>
          <td>(</td>
          <td class="paramtype">func::FuncOp</td>          <td class="paramname"><span class="paramname"><em>funcOp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fold return values that are memref casts and update function return types. </p>
<p>During FuncOp bufferization, the exact type of the returned memrefs (if any) is not known yet. Therefore, the bufferization uses memref types with the most generic layout map as function return types. After bufferizing the entire function body, a more concise memref type can potentially be used for the return type of the function. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00417">417</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00022">mlir::bufferization::getReturnOps()</a>, <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00387">getReturnTypes()</a>, and <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00376">unpackCast()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00527">mlir::bufferization::bufferizeModuleOp()</a>.</p>

</div>
</div>
<a id="a89518abad2193651fdfe40b18ff2d95f" name="a89518abad2193651fdfe40b18ff2d95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89518abad2193651fdfe40b18ff2d95f">&#9670;&#160;</a></span>getCalledFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">func::FuncOp getCalledFunction </td>
          <td>(</td>
          <td class="paramtype">func::CallOp</td>          <td class="paramname"><span class="paramname"><em>callOp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1SymbolTableCollection.html">mlir::SymbolTableCollection</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>symbolTable</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the func::FuncOp called by <span class="tt">callOp</span>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00286">286</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

</div>
</div>
<a id="add006f32756e04e10152350a9cf8c395" name="add006f32756e04e10152350a9cf8c395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add006f32756e04e10152350a9cf8c395">&#9670;&#160;</a></span>getFuncOpsOrderedByCalls()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LogicalResult getFuncOpsOrderedByCalls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Operation.html">Operation</a> *</td>          <td class="paramname"><span class="paramname"><em>moduleOp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>orderedFuncOps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; func::FuncOp &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>remainingFuncOps</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a024323a29fbc91e296d99edf9b7e6e77">FuncCallerMap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>callerMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1SymbolTableCollection.html">SymbolTableCollection</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>symbolTables</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store all functions of the <span class="tt">moduleOp</span> in <span class="tt">orderedFuncOps</span>, sorted by callee-caller order (i.e., callees without callers first). </p>
<p>Store all remaining functions (i.e., the ones that call each other recursively) in <span class="tt">remainingFuncOps</span>. Does not traverse nested symbol tables.</p>
<p>Store the map of FuncOp to all its callers in <span class="tt">callerMap</span>.</p>
<p>Return <span class="tt">failure()</span> if we are unable to retrieve the called FuncOp from any func::CallOp. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00309">309</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="WalkResult_8h_source.html#l00047">mlir::WalkResult::advance()</a>, <a class="el" href="FuncBufferizableOpInterfaceImpl_8cpp_source.html#l00096">mlir::bufferization::func_ext::getCalledFunction()</a>, <a class="el" href="IR_2Operation_8h_source.html#l00677">mlir::Operation::getRegions()</a>, <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00293">hasTensorSignature()</a>, <a class="el" href="WalkResult_8h_source.html#l00048">mlir::WalkResult::skip()</a>, <a class="el" href="AffineAnalysis_8cpp.html#aa2afc59a21f80839c29f2812f75c36a4">success()</a>, and <a class="el" href="WalkResult_8h_source.html#l00051">mlir::WalkResult::wasInterrupted()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00451">mlir::bufferization::analyzeModuleOp()</a>, and <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00527">mlir::bufferization::bufferizeModuleOp()</a>.</p>

</div>
</div>
<a id="a07285e7428270bbcbdff7ccac06ec64f" name="a07285e7428270bbcbdff7ccac06ec64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07285e7428270bbcbdff7ccac06ec64f">&#9670;&#160;</a></span>getOrCreateFuncAnalysisState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html">FuncAnalysisState</a> &amp; getOrCreateFuncAnalysisState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1bufferization_1_1OneShotAnalysisState.html">OneShotAnalysisState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get or create <a class="el" href="structmlir_1_1bufferization_1_1func__ext_1_1FuncAnalysisState.html" title="Extra analysis state that is required for bufferization of function boundaries.">FuncAnalysisState</a>. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00084">84</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="OneShotAnalysis_8h_source.html#l00198">mlir::bufferization::OneShotAnalysisState::addExtension()</a>, <a class="el" href="OneShotAnalysis_8h_source.html#l00210">mlir::bufferization::OneShotAnalysisState::getExtension()</a>, and <a class="el" href="LinalgTransformOps_8cpp_source.html#l02098">result</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00451">mlir::bufferization::analyzeModuleOp()</a>.</p>

</div>
</div>
<a id="a03cec73dcc0fd13e4c94b48a0e52d4d5" name="a03cec73dcc0fd13e4c94b48a0e52d4d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03cec73dcc0fd13e4c94b48a0e52d4d5">&#9670;&#160;</a></span>getReturnTypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Type.html">Type</a> &gt; getReturnTypes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; func::ReturnOp &gt;</td>          <td class="paramname"><span class="paramname"><em>returnOps</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that returns the return types (skipping casts) of the given func.return ops. </p>
<p>This function returns as many types as the return ops have operands. If the i-th operand is not the same for all func.return ops, then the i-th returned type is an "empty" type. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00387">387</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>, <a class="el" href="LinalgTransformOps_8cpp_source.html#l02098">result</a>, and <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00376">unpackCast()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00417">foldMemRefCasts()</a>.</p>

</div>
</div>
<a id="a32f1d896d748bea16861d3ec0f41ec51" name="a32f1d896d748bea16861d3ec0f41ec51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f1d896d748bea16861d3ec0f41ec51">&#9670;&#160;</a></span>hasTensorSignature()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> hasTensorSignature </td>
          <td>(</td>
          <td class="paramtype">func::FuncOp</td>          <td class="paramname"><span class="paramname"><em>funcOp</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return "true" if the given function signature has tensor semantics. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00293">293</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00309">getFuncOpsOrderedByCalls()</a>.</p>

</div>
</div>
<a id="a799129c21d19fec1fa27e9c4b2e208d5" name="a799129c21d19fec1fa27e9c4b2e208d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799129c21d19fec1fa27e9c4b2e208d5">&#9670;&#160;</a></span>removeBufferizationAttributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvoid.html">void</a> removeBufferizationAttributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1BlockArgument.html">BlockArgument</a></td>          <td class="paramname"><span class="paramname"><em>bbArg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove bufferization attributes on FuncOp arguments. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00276">276</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8h_source.html#l00321">mlir::BlockArgument::getArgNumber()</a>, <a class="el" href="Value_8h_source.html#l00318">mlir::BlockArgument::getOwner()</a>, and <a class="el" href="Block_8cpp_source.html#l00031">mlir::Block::getParentOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00515">mlir::bufferization::removeBufferizationAttributesInModule()</a>.</p>

</div>
</div>
<a id="aa74b0551c1427c799a60e01c3d346799" name="aa74b0551c1427c799a60e01c3d346799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa74b0551c1427c799a60e01c3d346799">&#9670;&#160;</a></span>unpackCast()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmlir_1_1Value.html">Value</a> unpackCast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a></td>          <td class="paramname"><span class="paramname"><em>v</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function that extracts the source from a memref.cast. </p>
<p>If the given value is not a memref.cast result, simply returns the given value. </p>

<p class="definition">Definition at line <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00376">376</a> of file <a class="el" href="OneShotModuleBufferize_8cpp_source.html">OneShotModuleBufferize.cpp</a>.</p>

<p class="reference">References <a class="el" href="Value_8cpp_source.html#l00018">mlir::Value::getDefiningOp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00417">foldMemRefCasts()</a>, and <a class="el" href="OneShotModuleBufferize_8cpp_source.html#l00387">getReturnTypes()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on <span class="timestamp"></span> for MLIR by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
