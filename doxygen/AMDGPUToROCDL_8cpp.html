<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MLIR: lib/Conversion/AMDGPUToROCDL/AMDGPUToROCDL.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MLIR
   &#160;<span id="projectnumber">22.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_fb3681dc9150b247305e64d29dbc20b7.html">Conversion</a></li><li class="navelem"><a class="el" href="dir_d545f969a6d7d010efcb2e6cf62e33dd.html">AMDGPUToROCDL</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">AMDGPUToROCDL.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="AMDGPUToROCDL_8h_source.html">mlir/Conversion/AMDGPUToROCDL/AMDGPUToROCDL.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ConversionTarget_8h_source.html">mlir/Conversion/LLVMCommon/ConversionTarget.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="include_2mlir_2Conversion_2LLVMCommon_2Pattern_8h_source.html">mlir/Conversion/LLVMCommon/Pattern.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeConverter_8h_source.html">mlir/Conversion/LLVMCommon/TypeConverter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="AMDGPUDialect_8h_source.html">mlir/Dialect/AMDGPU/IR/AMDGPUDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Chipset_8h_source.html">mlir/Dialect/AMDGPU/Utils/Chipset.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="LLVMDialect_8h_source.html">mlir/Dialect/LLVMIR/LLVMDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ROCDLDialect_8h_source.html">mlir/Dialect/LLVMIR/ROCDLDialect.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mlir_2IR_2BuiltinTypes_8h_source.html">mlir/IR/BuiltinTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="TypeUtilities_8h_source.html">mlir/IR/TypeUtilities.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="include_2mlir_2Pass_2Pass_8h_source.html">mlir/Pass/Pass.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="MemRefDescriptor_8h_source.html">../LLVMCommon/MemRefDescriptor.h</a>&quot;</code><br />
<code>#include &quot;llvm/ADT/STLExtras.h&quot;</code><br />
<code>#include &quot;llvm/ADT/TypeSwitch.h&quot;</code><br />
<code>#include &quot;llvm/Support/Casting.h&quot;</code><br />
<code>#include &quot;llvm/Support/ErrorHandling.h&quot;</code><br />
<code>#include &lt;optional&gt;</code><br />
<code>#include &quot;mlir/Conversion/Passes.h.inc&quot;</code><br />
</div>
<p><a href="AMDGPUToROCDL_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacemlir"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemlir.html">mlir</a></td></tr>
<tr class="memdesc:namespacemlir"><td class="mdescLeft">&#160;</td><td class="mdescRight">Include the generated interface declarations. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a82243de49c7bdee2b74d61ac5bacc6f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a82243de49c7bdee2b74d61ac5bacc6f5">GEN_PASS_DEF_CONVERTAMDGPUTOROCDLPASS</a></td></tr>
<tr class="separator:a82243de49c7bdee2b74d61ac5bacc6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aadf0e1566ad638851c2a90c9eb141c0b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#aadf0e1566ad638851c2a90c9eb141c0b">convertUnsignedToI32</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1Value.html">Value</a> val)</td></tr>
<tr class="memdesc:aadf0e1566ad638851c2a90c9eb141c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an unsigned number <code>val</code> to i32.  <a href="AMDGPUToROCDL_8cpp.html#aadf0e1566ad638851c2a90c9eb141c0b">More...</a><br /></td></tr>
<tr class="separator:aadf0e1566ad638851c2a90c9eb141c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9827191d0d680e69eac76323165cf0c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#ab9827191d0d680e69eac76323165cf0c">createI32Constant</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, int32_t value)</td></tr>
<tr class="separator:ab9827191d0d680e69eac76323165cf0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1feea77ae5fb7b23658af8413f4ceda7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a1feea77ae5fb7b23658af8413f4ceda7">createI1Constant</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, bool value)</td></tr>
<tr class="separator:a1feea77ae5fb7b23658af8413f4ceda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad66fbdefc92b24a0598d4a3c48290a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#aad66fbdefc92b24a0598d4a3c48290a6">getLinearIndexI32</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1MemRefDescriptor.html">MemRefDescriptor</a> &amp;memRefDescriptor, <a class="el" href="classmlir_1_1ValueRange.html">ValueRange</a> indices, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt; strides)</td></tr>
<tr class="memdesc:aad66fbdefc92b24a0598d4a3c48290a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the linear index used to access an element in the memref.  <a href="AMDGPUToROCDL_8cpp.html#aad66fbdefc92b24a0598d4a3c48290a6">More...</a><br /></td></tr>
<tr class="separator:aad66fbdefc92b24a0598d4a3c48290a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb4135c7a662aa384c5d93afccad9d6a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#abb4135c7a662aa384c5d93afccad9d6a">getNumRecords</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, MemRefType memrefType, <a class="el" href="classmlir_1_1MemRefDescriptor.html">MemRefDescriptor</a> &amp;memrefDescriptor, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt; strides, uint32_t elementByteWidth)</td></tr>
<tr class="memdesc:abb4135c7a662aa384c5d93afccad9d6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the contents of the <code>num_records</code> field for a given memref descriptor - that is, the number of bytes that's one element past the greatest possible valid index into the memref.  <a href="AMDGPUToROCDL_8cpp.html#abb4135c7a662aa384c5d93afccad9d6a">More...</a><br /></td></tr>
<tr class="separator:abb4135c7a662aa384c5d93afccad9d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710af2bbfc1f5be215cfdead02619c85"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a710af2bbfc1f5be215cfdead02619c85">makeBufferRsrc</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1Value.html">Value</a> basePointer, <a class="el" href="classmlir_1_1Value.html">Value</a> numRecords, bool boundsCheck, amdgpu::Chipset chipset, <a class="el" href="classmlir_1_1Value.html">Value</a> cacheSwizzleStride=nullptr, unsigned addressSpace=8)</td></tr>
<tr class="separator:a710af2bbfc1f5be215cfdead02619c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ac873a6b6e6a001c69a1f4431d8f23"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a07ac873a6b6e6a001c69a1f4431d8f23">convertMFMAVectorOperand</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1Value.html">Value</a> input, bool allowBf16=true)</td></tr>
<tr class="memdesc:a07ac873a6b6e6a001c69a1f4431d8f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a MFMA vector operand from MLIR AMDGPU dialect convention to ROCDL and LLVM AMDGPU intrinsics convention.  <a href="AMDGPUToROCDL_8cpp.html#a07ac873a6b6e6a001c69a1f4431d8f23">More...</a><br /></td></tr>
<tr class="separator:a07ac873a6b6e6a001c69a1f4431d8f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70bf8cb67727059ec6d159583d1fafa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#ab70bf8cb67727059ec6d159583d1fafa">castMFMAScaleOperand</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, <a class="el" href="classmlir_1_1Value.html">Value</a> input)</td></tr>
<tr class="memdesc:ab70bf8cb67727059ec6d159583d1fafa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the scaled MFMA operands, <code>scalesA</code> and <code>scalesB</code>, from MLIR AMDGPU dialect convention to ROCDL and LLVM AMDGPU intrinsics convention.  <a href="AMDGPUToROCDL_8cpp.html#ab70bf8cb67727059ec6d159583d1fafa">More...</a><br /></td></tr>
<tr class="separator:ab70bf8cb67727059ec6d159583d1fafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7438b0b36f7cc4316c58a99296ca629d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a7438b0b36f7cc4316c58a99296ca629d">wmmaPushInputOperand</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, const <a class="el" href="classmlir_1_1TypeConverter.html">TypeConverter</a> *typeConverter, bool isUnsigned, <a class="el" href="classmlir_1_1Value.html">Value</a> llvmInput, <a class="el" href="classmlir_1_1Value.html">Value</a> mlirInput, <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Value.html">Value</a>, 4 &gt; &amp;operands)</td></tr>
<tr class="memdesc:a7438b0b36f7cc4316c58a99296ca629d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push an input operand.  <a href="AMDGPUToROCDL_8cpp.html#a7438b0b36f7cc4316c58a99296ca629d">More...</a><br /></td></tr>
<tr class="separator:a7438b0b36f7cc4316c58a99296ca629d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3274f6b38829a773b9b23fdb79fee2f0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a3274f6b38829a773b9b23fdb79fee2f0">wmmaPushOutputOperand</a> (<a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;rewriter, <a class="el" href="classmlir_1_1Location.html">Location</a> loc, const <a class="el" href="classmlir_1_1TypeConverter.html">TypeConverter</a> *typeConverter, <a class="el" href="classmlir_1_1Value.html">Value</a> output, int32_t subwordOffset, bool <a class="el" href="PolynomialApproximation_8cpp.html#aaf0f5c82a4c61c0e930f33c21058f82e">clamp</a>, <a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Value.html">Value</a>, 4 &gt; &amp;operands)</td></tr>
<tr class="memdesc:a3274f6b38829a773b9b23fdb79fee2f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push the output operand.  <a href="AMDGPUToROCDL_8cpp.html#a3274f6b38829a773b9b23fdb79fee2f0">More...</a><br /></td></tr>
<tr class="separator:a3274f6b38829a773b9b23fdb79fee2f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474029fe44706f9dd2f5691c7e4caa9a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a474029fe44706f9dd2f5691c7e4caa9a">typeIsExpectedBf8ForChipset</a> (<a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset, <a class="el" href="classmlir_1_1Type.html">Type</a> type)</td></tr>
<tr class="memdesc:a474029fe44706f9dd2f5691c7e4caa9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if <code>type</code> is the E5M2 variant of an 8-bit float that is supported by the <code>_bf8</code> instructions on the given <code>chipset</code>.  <a href="AMDGPUToROCDL_8cpp.html#a474029fe44706f9dd2f5691c7e4caa9a">More...</a><br /></td></tr>
<tr class="separator:a474029fe44706f9dd2f5691c7e4caa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ca699352ad3ed0d6462f4e492c376d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a00ca699352ad3ed0d6462f4e492c376d">typeIsExpectedFp8ForChipset</a> (<a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset, <a class="el" href="classmlir_1_1Type.html">Type</a> type)</td></tr>
<tr class="memdesc:a00ca699352ad3ed0d6462f4e492c376d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if <code>type</code> is the E4M3FN variant of an 8-bit float that is supported by the <code>_fp8</code> instructions on the given <code>chipset</code>.  <a href="AMDGPUToROCDL_8cpp.html#a00ca699352ad3ed0d6462f4e492c376d">More...</a><br /></td></tr>
<tr class="separator:a00ca699352ad3ed0d6462f4e492c376d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316761675b58bc15d60de3af04a34c70"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; StringRef &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a316761675b58bc15d60de3af04a34c70">mfmaOpToIntrinsic</a> (MFMAOp mfma, <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset)</td></tr>
<tr class="memdesc:a316761675b58bc15d60de3af04a34c70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <code>rocdl</code> intrinsic corresponding to a MFMA operation <code>mfma</code> if one exists.  <a href="AMDGPUToROCDL_8cpp.html#a316761675b58bc15d60de3af04a34c70">More...</a><br /></td></tr>
<tr class="separator:a316761675b58bc15d60de3af04a34c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6591528963310c3a4b2ad8c204ebcf"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#ace6591528963310c3a4b2ad8c204ebcf">mfmaTypeSelectCode</a> (<a class="el" href="classmlir_1_1Type.html">Type</a> mlirElemType)</td></tr>
<tr class="separator:ace6591528963310c3a4b2ad8c204ebcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4067978ea51e4830cf4badbf929745d"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; std::tuple&lt; StringRef, uint32_t, uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#ad4067978ea51e4830cf4badbf929745d">mfmaOpToScaledIntrinsic</a> (<a class="el" href="classmlir_1_1Type.html">Type</a> aType, <a class="el" href="classmlir_1_1Type.html">Type</a> bType, <a class="el" href="classmlir_1_1Type.html">Type</a> destType, uint32_t m, uint32_t n, uint32_t k, uint32_t b, <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset)</td></tr>
<tr class="memdesc:ad4067978ea51e4830cf4badbf929745d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If there is a scaled MFMA instruction for the input element types <code>aType</code> and <code>bType</code>, output type <code>destType</code>, problem size M, N, K, and B (number of blocks) on the given <code>chipset</code>, return a tuple consisting of the OperationName of the intrinsic and the type codes that need to be passed to that intrinsic.  <a href="AMDGPUToROCDL_8cpp.html#ad4067978ea51e4830cf4badbf929745d">More...</a><br /></td></tr>
<tr class="separator:ad4067978ea51e4830cf4badbf929745d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94cf4ad225c8f25385b27c2e9f47cc9"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; std::tuple&lt; StringRef, uint32_t, uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#af94cf4ad225c8f25385b27c2e9f47cc9">mfmaOpToScaledIntrinsic</a> (MFMAOp mfma, <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset)</td></tr>
<tr class="separator:af94cf4ad225c8f25385b27c2e9f47cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7343e6ee41c91d3267ae91c6226ed0d8"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; std::tuple&lt; StringRef, uint32_t, uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a7343e6ee41c91d3267ae91c6226ed0d8">mfmaOpToScaledIntrinsic</a> (ScaledMFMAOp smfma, <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset)</td></tr>
<tr class="separator:a7343e6ee41c91d3267ae91c6226ed0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061d703943605313a3b97ebb935d8a39"><td class="memItemLeft" align="right" valign="top">static std::optional&lt; StringRef &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a061d703943605313a3b97ebb935d8a39">wmmaOpToIntrinsic</a> (WMMAOp wmma, <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> chipset)</td></tr>
<tr class="memdesc:a061d703943605313a3b97ebb935d8a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <code>rocdl</code> intrinsic corresponding to a WMMA operation <code>wmma</code> if one exists.  <a href="AMDGPUToROCDL_8cpp.html#a061d703943605313a3b97ebb935d8a39">More...</a><br /></td></tr>
<tr class="separator:a061d703943605313a3b97ebb935d8a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a235567677f47ab3b6e78f517ab255a41"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a235567677f47ab3b6e78f517ab255a41">kGfx908</a> = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 0, 8)</td></tr>
<tr class="separator:a235567677f47ab3b6e78f517ab255a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff3a1bbb7ce237329fec0ffd9262b5c"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a2ff3a1bbb7ce237329fec0ffd9262b5c">kGfx90a</a> = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 0, 0xa)</td></tr>
<tr class="separator:a2ff3a1bbb7ce237329fec0ffd9262b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021ee7afb4eb9caa945a7ebcf5016712"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#a021ee7afb4eb9caa945a7ebcf5016712">kGfx942</a> = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 4, 2)</td></tr>
<tr class="separator:a021ee7afb4eb9caa945a7ebcf5016712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2bbf3cd9952267a55ebb689e1f27b8"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="AMDGPUToROCDL_8cpp.html#adf2bbf3cd9952267a55ebb689e1f27b8">kGfx950</a> = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 5, 0)</td></tr>
<tr class="separator:adf2bbf3cd9952267a55ebb689e1f27b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a82243de49c7bdee2b74d61ac5bacc6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82243de49c7bdee2b74d61ac5bacc6f5">&#9670;&nbsp;</a></span>GEN_PASS_DEF_CONVERTAMDGPUTOROCDLPASS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GEN_PASS_DEF_CONVERTAMDGPUTOROCDLPASS</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00031">31</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab70bf8cb67727059ec6d159583d1fafa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70bf8cb67727059ec6d159583d1fafa">&#9670;&nbsp;</a></span>castMFMAScaleOperand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> castMFMAScaleOperand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts the scaled MFMA operands, <code>scalesA</code> and <code>scalesB</code>, from MLIR AMDGPU dialect convention to ROCDL and LLVM AMDGPU intrinsics convention. </p>
<p>Specifically:</p><ol type="1">
<li>If <code>input</code> is a i8 value, zero extend it to i32</li>
<li>If <code>input</code> is a vector of length 4 and type i8, cast it to i32</li>
</ol>
<p>Note that the type of <code>input</code> has already been LLVM type converted: therefore 8-bit and smaller floats are represented as their corresponding <code>iN</code> integers. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00656">656</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>, and <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>.</p>

</div>
</div>
<a id="a07ac873a6b6e6a001c69a1f4431d8f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ac873a6b6e6a001c69a1f4431d8f23">&#9670;&nbsp;</a></span>convertMFMAVectorOperand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> convertMFMAVectorOperand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowBf16</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a MFMA vector operand from MLIR AMDGPU dialect convention to ROCDL and LLVM AMDGPU intrinsics convention. </p>
<p>Specifically:</p><ol type="1">
<li>If the element type is bfloat16, bitcast it to i16 unless rocdl intrinsic allows <a class="el" href="structbf16.html">bf16</a>. Newer MFMAs support <a class="el" href="structbf16.html">bf16</a> types on operand, check IntrinsicsAMDGPU.td file for reference.</li>
<li>If instead we have a more than 64-bit quantity, use a &lt;N / 4 x i32&gt; instead, which is what the f8f6f4 intrinsics use.</li>
<li>If <code>input</code> is a vector of N &lt;= 8 bytes, bitcast it to a (N * 8)-bit integer.</li>
</ol>
<p>Note that the type of <code>input</code> has already been LLVM type converted: therefore 8-bit and smaller floats are represented as their corresponding <code>iN</code> integers. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00620">620</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="DataLayoutInterfaces_8cpp_source.html#l00468">mlir::detail::divideCeil()</a>, <a class="el" href="BytecodeImplementation_8h_source.html#l00509">mlir::get()</a>, <a class="el" href="Builders_8cpp_source.html#l00060">mlir::Builder::getI16Type()</a>, <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>, <a class="el" href="Builders_8cpp_source.html#l00066">mlir::Builder::getIntegerType()</a>, and <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>.</p>

</div>
</div>
<a id="aadf0e1566ad638851c2a90c9eb141c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf0e1566ad638851c2a90c9eb141c0b">&#9670;&nbsp;</a></span>convertUnsignedToI32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> convertUnsignedToI32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert an unsigned number <code>val</code> to i32. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00045">45</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>, and <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00070">getLinearIndexI32()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00093">getNumRecords()</a>.</p>

</div>
</div>
<a id="a1feea77ae5fb7b23658af8413f4ceda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1feea77ae5fb7b23658af8413f4ceda7">&#9670;&nbsp;</a></span>createI1Constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> createI1Constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00063">63</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Builders_8cpp_source.html#l00052">mlir::Builder::getI1Type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00673">wmmaPushInputOperand()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00736">wmmaPushOutputOperand()</a>.</p>

</div>
</div>
<a id="ab9827191d0d680e69eac76323165cf0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9827191d0d680e69eac76323165cf0c">&#9670;&nbsp;</a></span>createI32Constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> createI32Constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00057">57</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00070">getLinearIndexI32()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00093">getNumRecords()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00123">makeBufferRsrc()</a>.</p>

</div>
</div>
<a id="aad66fbdefc92b24a0598d4a3c48290a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad66fbdefc92b24a0598d4a3c48290a6">&#9670;&nbsp;</a></span>getLinearIndexI32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> getLinearIndexI32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1MemRefDescriptor.html">MemRefDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>memRefDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ValueRange.html">ValueRange</a>&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>strides</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the linear index used to access an element in the memref. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00070">70</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00045">convertUnsignedToI32()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00057">createI32Constant()</a>, <a class="el" href="Matchers_8h_source.html#l00344">mlir::detail::enumerate()</a>, <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>, and <a class="el" href="MemRefBuilder_8cpp_source.html#l00169">mlir::MemRefDescriptor::stride()</a>.</p>

</div>
</div>
<a id="abb4135c7a662aa384c5d93afccad9d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb4135c7a662aa384c5d93afccad9d6a">&#9670;&nbsp;</a></span>getNumRecords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> getNumRecords </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemRefType&#160;</td>
          <td class="paramname"><em>memrefType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1MemRefDescriptor.html">MemRefDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>memrefDescriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; int64_t &gt;&#160;</td>
          <td class="paramname"><em>strides</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>elementByteWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the contents of the <code>num_records</code> field for a given memref descriptor - that is, the number of bytes that's one element past the greatest possible valid index into the memref. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00093">93</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00045">convertUnsignedToI32()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00057">createI32Constant()</a>, <a class="el" href="PolynomialApproximation_8cpp_source.html#l00212">max()</a>, <a class="el" href="MemRefBuilder_8cpp_source.html#l00127">mlir::MemRefDescriptor::size()</a>, and <a class="el" href="MemRefBuilder_8cpp_source.html#l00169">mlir::MemRefDescriptor::stride()</a>.</p>

</div>
</div>
<a id="a710af2bbfc1f5be215cfdead02619c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710af2bbfc1f5be215cfdead02619c85">&#9670;&nbsp;</a></span>makeBufferRsrc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classmlir_1_1Value.html">Value</a> makeBufferRsrc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>basePointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>numRecords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>boundsCheck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">amdgpu::Chipset&#160;</td>
          <td class="paramname"><em>chipset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>cacheSwizzleStride</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>addressSpace</em> = <code>8</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00123">123</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00057">createI32Constant()</a>, <a class="el" href="Builders_8h_source.html#l00517">mlir::OpBuilder::createOrFold()</a>, <a class="el" href="BytecodeImplementation_8h_source.html#l00509">mlir::get()</a>, <a class="el" href="Builders_8h_source.html#l00055">mlir::Builder::getContext()</a>, <a class="el" href="Builders_8cpp_source.html#l00212">mlir::Builder::getI16IntegerAttr()</a>, <a class="el" href="Builders_8cpp_source.html#l00060">mlir::Builder::getI16Type()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00041">kGfx942</a>.</p>

</div>
</div>
<a id="a316761675b58bc15d60de3af04a34c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316761675b58bc15d60de3af04a34c70">&#9670;&nbsp;</a></span>mfmaOpToIntrinsic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;StringRef&gt; mfmaOpToIntrinsic </td>
          <td>(</td>
          <td class="paramtype">MFMAOp&#160;</td>
          <td class="paramname"><em>mfma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the <code>rocdl</code> intrinsic corresponding to a MFMA operation <code>mfma</code> if one exists. </p>
<p>This includes checking to ensure the intrinsic is supported on the architecture you are compiling for. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">772</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="TypeUtilities_8cpp_source.html#l00023">mlir::getElementTypeOrSelf()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00037">mlir::Type::isBF16()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00038">mlir::Type::isF16()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00040">mlir::Type::isF32()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00041">mlir::Type::isF64()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00056">mlir::Type::isInteger()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00040">kGfx90a</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00041">kGfx942</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00042">kGfx950</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00757">typeIsExpectedBf8ForChipset()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00764">typeIsExpectedFp8ForChipset()</a>.</p>

</div>
</div>
<a id="af94cf4ad225c8f25385b27c2e9f47cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94cf4ad225c8f25385b27c2e9f47cc9">&#9670;&nbsp;</a></span>mfmaOpToScaledIntrinsic() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;std::tuple&lt;StringRef, uint32_t, uint32_t&gt; &gt; mfmaOpToScaledIntrinsic </td>
          <td>(</td>
          <td class="paramtype">MFMAOp&#160;</td>
          <td class="paramname"><em>mfma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00963">963</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00935">mfmaOpToScaledIntrinsic()</a>.</p>

</div>
</div>
<a id="a7343e6ee41c91d3267ae91c6226ed0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7343e6ee41c91d3267ae91c6226ed0d8">&#9670;&nbsp;</a></span>mfmaOpToScaledIntrinsic() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;std::tuple&lt;StringRef, uint32_t, uint32_t&gt; &gt; mfmaOpToScaledIntrinsic </td>
          <td>(</td>
          <td class="paramtype">ScaledMFMAOp&#160;</td>
          <td class="paramname"><em>smfma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00971">971</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00935">mfmaOpToScaledIntrinsic()</a>.</p>

</div>
</div>
<a id="ad4067978ea51e4830cf4badbf929745d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4067978ea51e4830cf4badbf929745d">&#9670;&nbsp;</a></span>mfmaOpToScaledIntrinsic() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;std::tuple&lt;StringRef, uint32_t, uint32_t&gt; &gt; mfmaOpToScaledIntrinsic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>aType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>bType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>destType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If there is a scaled MFMA instruction for the input element types <code>aType</code> and <code>bType</code>, output type <code>destType</code>, problem size M, N, K, and B (number of blocks) on the given <code>chipset</code>, return a tuple consisting of the OperationName of the intrinsic and the type codes that need to be passed to that intrinsic. </p>
<p>Note that this is also used to implement some un-scaled MFMAs, since the compiler represents the ordinary instruction as a "scaled" MFMA with a scale of 0. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00935">935</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="TypeUtilities_8cpp_source.html#l00023">mlir::getElementTypeOrSelf()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00042">kGfx950</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00917">mfmaTypeSelectCode()</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00963">mfmaOpToScaledIntrinsic()</a>.</p>

</div>
</div>
<a id="ace6591528963310c3a4b2ad8c204ebcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6591528963310c3a4b2ad8c204ebcf">&#9670;&nbsp;</a></span>mfmaTypeSelectCode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;uint32_t&gt; mfmaTypeSelectCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>mlirElemType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00917">917</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00935">mfmaOpToScaledIntrinsic()</a>.</p>

</div>
</div>
<a id="a474029fe44706f9dd2f5691c7e4caa9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a474029fe44706f9dd2f5691c7e4caa9a">&#9670;&nbsp;</a></span>typeIsExpectedBf8ForChipset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool typeIsExpectedBf8ForChipset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if <code>type</code> is the E5M2 variant of an 8-bit float that is supported by the <code>_bf8</code> instructions on the given <code>chipset</code>. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00757">757</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Chipset_8h_source.html#l00052">mlir::amdgpu::hasOcpFp8()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00041">kGfx942</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">mfmaOpToIntrinsic()</a>.</p>

</div>
</div>
<a id="a00ca699352ad3ed0d6462f4e492c376d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ca699352ad3ed0d6462f4e492c376d">&#9670;&nbsp;</a></span>typeIsExpectedFp8ForChipset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool typeIsExpectedFp8ForChipset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Type.html">Type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if <code>type</code> is the E4M3FN variant of an 8-bit float that is supported by the <code>_fp8</code> instructions on the given <code>chipset</code>. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00764">764</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Chipset_8h_source.html#l00052">mlir::amdgpu::hasOcpFp8()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00041">kGfx942</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">mfmaOpToIntrinsic()</a>.</p>

</div>
</div>
<a id="a061d703943605313a3b97ebb935d8a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a061d703943605313a3b97ebb935d8a39">&#9670;&nbsp;</a></span>wmmaOpToIntrinsic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::optional&lt;StringRef&gt; wmmaOpToIntrinsic </td>
          <td>(</td>
          <td class="paramtype">WMMAOp&#160;</td>
          <td class="paramname"><em>wmma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>&#160;</td>
          <td class="paramname"><em>chipset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the <code>rocdl</code> intrinsic corresponding to a WMMA operation <code>wmma</code> if one exists. </p>
<p>This includes checking to ensure the intrinsic is supported on the architecture you are compiling for. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00981">981</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="Chipset_8h_source.html#l00023">mlir::amdgpu::Chipset::majorVersion</a>.</p>

</div>
</div>
<a id="a7438b0b36f7cc4316c58a99296ca629d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7438b0b36f7cc4316c58a99296ca629d">&#9670;&nbsp;</a></span>wmmaPushInputOperand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wmmaPushInputOperand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1TypeConverter.html">TypeConverter</a> *&#160;</td>
          <td class="paramname"><em>typeConverter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isUnsigned</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>llvmInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>mlirInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Value.html">Value</a>, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>operands</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push an input operand. </p>
<p>If it is a float type, nothing to do. If it is an integer type, then we need to also push its signdness (1 for signed, 0 for unsigned) and we need to pack the input 16xi8 vector into a 4xi32 vector (or the 8xi8 vector into a 2xi32 one for gfx12+). We also need to convert bfloat inputs to i16 to account for the bfloat intrinsics having been defined before the AMD backend supported bfloat. We similarly need to pack 8-bit float types into integers as if they were i8 (which they are for the backend's purposes). </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00673">673</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="DialectConversion_8cpp_source.html#l03027">mlir::TypeConverter::convertType()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00063">createI1Constant()</a>, <a class="el" href="Builders_8h_source.html#l00517">mlir::OpBuilder::createOrFold()</a>, <a class="el" href="BytecodeImplementation_8h_source.html#l00509">mlir::get()</a>, <a class="el" href="Builders_8cpp_source.html#l00060">mlir::Builder::getI16Type()</a>, <a class="el" href="Builders_8cpp_source.html#l00062">mlir::Builder::getI32Type()</a>, <a class="el" href="Builders_8cpp_source.html#l00066">mlir::Builder::getIntegerType()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00122">mlir::Type::getIntOrFloatBitWidth()</a>, <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00037">mlir::Type::isBF16()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00076">mlir::Type::isSignedInteger()</a>, and <a class="el" href="IR_2Types_8cpp_source.html#l00088">mlir::Type::isUnsignedInteger()</a>.</p>

</div>
</div>
<a id="a3274f6b38829a773b9b23fdb79fee2f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3274f6b38829a773b9b23fdb79fee2f0">&#9670;&nbsp;</a></span>wmmaPushOutputOperand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wmmaPushOutputOperand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmlir_1_1ConversionPatternRewriter.html">ConversionPatternRewriter</a> &amp;&#160;</td>
          <td class="paramname"><em>rewriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Location.html">Location</a>&#160;</td>
          <td class="paramname"><em>loc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmlir_1_1TypeConverter.html">TypeConverter</a> *&#160;</td>
          <td class="paramname"><em>typeConverter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmlir_1_1Value.html">Value</a>&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>subwordOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVector.html">SmallVector</a>&lt; <a class="el" href="classmlir_1_1Value.html">Value</a>, 4 &gt; &amp;&#160;</td>
          <td class="paramname"><em>operands</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Push the output operand. </p>
<p>For many cases this is only pushing the output in the operand list. But when we have <a class="el" href="structf16.html">f16</a> -&gt; <a class="el" href="structf16.html">f16</a> or <a class="el" href="structbf16.html">bf16</a> -&gt; <a class="el" href="structbf16.html">bf16</a> intrinsics, since the same numbers of VGPRs is used, we need to decide if to store the result in the upper 16 bits of the VGPRs or in the lower part. To store the result in the lower 16 bits, set subwordOffset to 1, otherwise result will be stored it in the upper part. The subwordOffset must not be set for gfx12, as the instructions have been changed to return fewer registers instead. </p>

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00736">736</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">References <a class="el" href="PolynomialApproximation_8cpp_source.html#l00220">clamp()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00063">createI1Constant()</a>, <a class="el" href="Builders_8cpp_source.html#l00060">mlir::Builder::getI16Type()</a>, <a class="el" href="Value_8h_source.html#l00105">mlir::Value::getType()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00037">mlir::Type::isBF16()</a>, <a class="el" href="IR_2Types_8cpp_source.html#l00038">mlir::Type::isF16()</a>, and <a class="el" href="IR_2Types_8cpp_source.html#l00056">mlir::Type::isInteger()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a235567677f47ab3b6e78f517ab255a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235567677f47ab3b6e78f517ab255a41">&#9670;&nbsp;</a></span>kGfx908</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> kGfx908 = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 0, 8)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00039">39</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

</div>
</div>
<a id="a2ff3a1bbb7ce237329fec0ffd9262b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff3a1bbb7ce237329fec0ffd9262b5c">&#9670;&nbsp;</a></span>kGfx90a</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> kGfx90a = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 0, 0xa)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00040">40</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">mfmaOpToIntrinsic()</a>.</p>

</div>
</div>
<a id="a021ee7afb4eb9caa945a7ebcf5016712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021ee7afb4eb9caa945a7ebcf5016712">&#9670;&nbsp;</a></span>kGfx942</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> kGfx942 = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 4, 2)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00041">41</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="ArithToAMDGPU_8cpp_source.html#l00099">isSupportedF8()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00123">makeBufferRsrc()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">mfmaOpToIntrinsic()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00757">typeIsExpectedBf8ForChipset()</a>, and <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00764">typeIsExpectedFp8ForChipset()</a>.</p>

</div>
</div>
<a id="adf2bbf3cd9952267a55ebb689e1f27b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2bbf3cd9952267a55ebb689e1f27b8">&#9670;&nbsp;</a></span>kGfx950</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a> kGfx950 = <a class="el" href="structmlir_1_1amdgpu_1_1Chipset.html">Chipset</a>(9, 5, 0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00042">42</a> of file <a class="el" href="AMDGPUToROCDL_8cpp_source.html">AMDGPUToROCDL.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00772">mfmaOpToIntrinsic()</a>, <a class="el" href="AMDGPUToROCDL_8cpp_source.html#l00935">mfmaOpToScaledIntrinsic()</a>, and <a class="el" href="ArithToAMDGPU_8cpp_source.html#l00691">mlir::arith::populateArithToAMDGPUConversionPatterns()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 1 2025 16:33:28 for MLIR by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
